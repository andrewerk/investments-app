{"/home/andrewerk/andrewerk-xp-app/src/app.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":56}},"5":{"start":{"line":8,"column":17},"end":{"line":8,"column":53}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":32}},"7":{"start":{"line":10,"column":32},"end":{"line":10,"column":95}},"8":{"start":{"line":11,"column":12},"end":{"line":11,"column":36}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":34}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":26}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":41}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":24}},"13":{"start":{"line":16,"column":13},"end":{"line":16,"column":37}},"14":{"start":{"line":17,"column":0},"end":{"line":20,"column":3}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":45}},"16":{"start":{"line":21,"column":0},"end":{"line":21,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":18}},"loc":{"start":{"line":17,"column":23},"end":{"line":20,"column":1}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":16,"column":13},"end":{"line":16,"column":37}},"type":"binary-expr","locations":[{"start":{"line":16,"column":13},"end":{"line":16,"column":29}},{"start":{"line":16,"column":33},"end":{"line":16,"column":37}}],"line":16}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"f":{"0":4,"1":1},"b":{"0":[1,1,1],"1":[3,1],"2":[4,4],"3":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/app.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/app.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,yDAAqC;AACrC,sDAA8B;AAC9B,gCAA8B;AAC9B,gGAAsE;AAEtE,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;AAEtB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AAExB,GAAG,CAAC,GAAG,CAAC,gBAAM,CAAC,CAAC;AAEhB,GAAG,CAAC,GAAG,CAAC,+BAAmB,CAAC,CAAC;AAE7B,gBAAU,CAAC,IAAI,EAAE,CAAC;AAElB,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC;AACtC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;IACpB,sCAAsC;IACtC,OAAO,CAAC,GAAG,CAAC,qBAAqB,IAAI,EAAE,CAAC,CAAC;AAC3C,CAAC,CAAC,CAAC;AAEH,kBAAe,GAAG,CAAC","sourcesContent":["import express from 'express';\nimport connection from './db/config';\nimport routes from './routes';\nimport 'express-async-errors';\nimport httpErrorMiddleware from './middlewares/http.error.middleware';\n\nconst app = express();\n\napp.use(express.json());\n\napp.use(routes);\n\napp.use(httpErrorMiddleware);\n\nconnection.sync();\n\nconst port = process.env.PORT || 3000;\napp.listen(port, () => {\n  // eslint-disable-next-line no-console\n  console.log(`Listening to port ${port}`);\n});\n\nexport default app;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"28d9fda86226a2b1c405efece0853fb787d1c945"},"/home/andrewerk/andrewerk-xp-app/src/db/config.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/db/config.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":31},"end":{"line":6,"column":62}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":67}},"5":{"start":{"line":8,"column":21},"end":{"line":8,"column":69}},"6":{"start":{"line":9,"column":21},"end":{"line":9,"column":69}},"7":{"start":{"line":10,"column":36},"end":{"line":10,"column":99}},"8":{"start":{"line":11,"column":19},"end":{"line":19,"column":2}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":59}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":4},"b":{"0":[1,1,1],"1":[4,0],"2":[4,4]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/db/config.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/db/config.ts"],"names":[],"mappings":";;;;;AAAA,+DAAiD;AACjD,oEAA4C;AAC5C,sEAA8C;AAC9C,sEAA8C;AAC9C,oGAA6E;AAE7E,MAAM,UAAU,GAAG,IAAI,gCAAS,CAAC;IAC/B,OAAO,EAAE,OAAO;IAChB,IAAI,EAAE,WAAW;IACjB,QAAQ,EAAE,MAAM;IAChB,QAAQ,EAAE,eAAe;IACzB,QAAQ,EAAE,UAAU;IACpB,OAAO,EAAE,KAAK;IACd,MAAM,EAAE,CAAC,mBAAS,EAAE,oBAAU,EAAE,oBAAU,EAAE,mCAA0B,CAAC;CACxE,CAAC,CAAC;AAEH,UAAU,CAAC,KAAK,CAAC,wCAAwC,CAAC,CAAC;AAE3D,kBAAe,UAAU,CAAC","sourcesContent":["import { Sequelize } from 'sequelize-typescript';\nimport UserModel from '../models/UserModel';\nimport TradeModel from '../models/TradeModel';\nimport StockModel from '../models/StockModel';\nimport InvestmentsPortfoliotModel from '../models/InvestmentsPortfolioModel';\n\nconst connection = new Sequelize({\n  dialect: 'mysql',\n  host: 'localhost',\n  username: 'root',\n  password: 'mynewpassword',\n  database: 'StockApp',\n  logging: false,\n  models: [UserModel, TradeModel, StockModel, InvestmentsPortfoliotModel],\n});\n\nconnection.query('CREATE DATABASE IF NOT EXISTS StockApp');\n\nexport default connection;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4b4ea9b6d19d0241eec687fbf3f876289ef6e517"},"/home/andrewerk/andrewerk-xp-app/src/models/UserModel.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/models/UserModel.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":16},"end":{"line":19,"column":1}},"14":{"start":{"line":12,"column":28},"end":{"line":12,"column":110}},"15":{"start":{"line":12,"column":91},"end":{"line":12,"column":106}},"16":{"start":{"line":13,"column":4},"end":{"line":18,"column":7}},"17":{"start":{"line":14,"column":36},"end":{"line":14,"column":97}},"18":{"start":{"line":14,"column":42},"end":{"line":14,"column":70}},"19":{"start":{"line":14,"column":85},"end":{"line":14,"column":95}},"20":{"start":{"line":15,"column":35},"end":{"line":15,"column":100}},"21":{"start":{"line":15,"column":41},"end":{"line":15,"column":73}},"22":{"start":{"line":15,"column":88},"end":{"line":15,"column":98}},"23":{"start":{"line":16,"column":32},"end":{"line":16,"column":116}},"24":{"start":{"line":17,"column":8},"end":{"line":17,"column":78}},"25":{"start":{"line":20,"column":22},"end":{"line":22,"column":1}},"26":{"start":{"line":21,"column":4},"end":{"line":21,"column":62}},"27":{"start":{"line":23,"column":0},"end":{"line":23,"column":62}},"28":{"start":{"line":25,"column":31},"end":{"line":25,"column":62}},"29":{"start":{"line":26,"column":17},"end":{"line":26,"column":51}},"30":{"start":{"line":27,"column":36},"end":{"line":27,"column":91}},"31":{"start":{"line":28,"column":16},"end":{"line":36,"column":1}},"32":{"start":{"line":30,"column":8},"end":{"line":34,"column":11}},"33":{"start":{"line":31,"column":25},"end":{"line":31,"column":57}},"34":{"start":{"line":33,"column":12},"end":{"line":33,"column":83}},"35":{"start":{"line":37,"column":0},"end":{"line":43,"column":44}},"36":{"start":{"line":44,"column":0},"end":{"line":51,"column":41}},"37":{"start":{"line":52,"column":0},"end":{"line":58,"column":44}},"38":{"start":{"line":59,"column":0},"end":{"line":66,"column":43}},"39":{"start":{"line":67,"column":0},"end":{"line":70,"column":46}},"40":{"start":{"line":68,"column":46},"end":{"line":68,"column":81}},"41":{"start":{"line":71,"column":0},"end":{"line":76,"column":39}},"42":{"start":{"line":77,"column":0},"end":{"line":82,"column":14}},"43":{"start":{"line":83,"column":0},"end":{"line":83,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":44},"end":{"line":11,"column":45}},"loc":{"start":{"line":11,"column":89},"end":{"line":19,"column":1}},"line":11},"3":{"name":"adopt","decl":{"start":{"line":12,"column":13},"end":{"line":12,"column":18}},"loc":{"start":{"line":12,"column":26},"end":{"line":12,"column":112}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":12,"column":70},"end":{"line":12,"column":71}},"loc":{"start":{"line":12,"column":89},"end":{"line":12,"column":108}},"line":12},"5":{"name":"(anonymous_5)","decl":{"start":{"line":13,"column":36},"end":{"line":13,"column":37}},"loc":{"start":{"line":13,"column":63},"end":{"line":18,"column":5}},"line":13},"6":{"name":"fulfilled","decl":{"start":{"line":14,"column":17},"end":{"line":14,"column":26}},"loc":{"start":{"line":14,"column":34},"end":{"line":14,"column":99}},"line":14},"7":{"name":"rejected","decl":{"start":{"line":15,"column":17},"end":{"line":15,"column":25}},"loc":{"start":{"line":15,"column":33},"end":{"line":15,"column":102}},"line":15},"8":{"name":"step","decl":{"start":{"line":16,"column":17},"end":{"line":16,"column":21}},"loc":{"start":{"line":16,"column":30},"end":{"line":16,"column":118}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":56},"end":{"line":20,"column":57}},"loc":{"start":{"line":20,"column":71},"end":{"line":22,"column":1}},"line":20},"10":{"name":"(anonymous_10)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":37},"end":{"line":35,"column":5}},"line":29},"11":{"name":"(anonymous_11)","decl":{"start":{"line":30,"column":47},"end":{"line":30,"column":48}},"loc":{"start":{"line":30,"column":60},"end":{"line":34,"column":9}},"line":30},"12":{"name":"(anonymous_12)","decl":{"start":{"line":68,"column":40},"end":{"line":68,"column":41}},"loc":{"start":{"line":68,"column":46},"end":{"line":68,"column":81}},"line":68}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":16},"end":{"line":19,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":17},"end":{"line":11,"column":21}},{"start":{"line":11,"column":25},"end":{"line":11,"column":39}},{"start":{"line":11,"column":44},"end":{"line":19,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":35},"end":{"line":12,"column":109}},"type":"cond-expr","locations":[{"start":{"line":12,"column":56},"end":{"line":12,"column":61}},{"start":{"line":12,"column":64},"end":{"line":12,"column":109}}],"line":12},"15":{"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":34}},"type":"binary-expr","locations":[{"start":{"line":13,"column":16},"end":{"line":13,"column":17}},{"start":{"line":13,"column":22},"end":{"line":13,"column":33}}],"line":13},"16":{"loc":{"start":{"line":16,"column":32},"end":{"line":16,"column":115}},"type":"cond-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},{"start":{"line":16,"column":70},"end":{"line":16,"column":115}}],"line":16},"17":{"loc":{"start":{"line":17,"column":51},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":51},"end":{"line":17,"column":61}},{"start":{"line":17,"column":65},"end":{"line":17,"column":67}}],"line":17},"18":{"loc":{"start":{"line":20,"column":22},"end":{"line":22,"column":1}},"type":"binary-expr","locations":[{"start":{"line":20,"column":23},"end":{"line":20,"column":27}},{"start":{"line":20,"column":31},"end":{"line":20,"column":51}},{"start":{"line":20,"column":56},"end":{"line":22,"column":1}}],"line":20},"19":{"loc":{"start":{"line":21,"column":11},"end":{"line":21,"column":61}},"type":"cond-expr","locations":[{"start":{"line":21,"column":37},"end":{"line":21,"column":40}},{"start":{"line":21,"column":43},"end":{"line":21,"column":61}}],"line":21},"20":{"loc":{"start":{"line":21,"column":12},"end":{"line":21,"column":33}},"type":"binary-expr","locations":[{"start":{"line":21,"column":12},"end":{"line":21,"column":15}},{"start":{"line":21,"column":19},"end":{"line":21,"column":33}}],"line":21}},"s":{"0":1,"1":7,"2":7,"3":7,"4":7,"5":0,"6":0,"7":0,"8":0,"9":7,"10":1,"11":8,"12":8,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":2,"27":1,"28":1,"29":1,"30":1,"31":1,"32":0,"33":0,"34":0,"35":1,"36":1,"37":1,"38":1,"39":1,"40":2,"41":1,"42":1,"43":1},"f":{"0":7,"1":8,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":2,"10":0,"11":0,"12":2},"b":{"0":[1,1,1],"1":[1,6],"2":[1,5],"3":[7,0],"4":[7,7],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[7,6,1],"10":[1,1,1],"11":[8,0],"12":[8,8],"13":[1,1,1],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[1,1,1],"19":[1,1],"20":[2,2]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/models/UserModel.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/models/UserModel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,oCAAoC;AACpC,+DAE8B;AAC9B,oDAA4B;AAE5B,4FAAqE;AAMrE,IAAqB,SAAS,GAA9B,MAAqB,SAAU,SAAQ,4BAAY;IA+BjD,MAAM,CAAO,eAAe,CAAC,QAAmB;;YAC9C,MAAM,IAAI,GAAG,gBAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YACpC,6CAA6C;YAC7C,QAAQ,CAAC,QAAQ,GAAG,gBAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC/D,CAAC;KAAA;CACF,CAAA;AA/BG;IAJD,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,MAAM;QACrB,SAAS,EAAE,KAAK;KACjB,CAAC;;2CACkB;AAOlB;IALD,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,MAAM;QACrB,SAAS,EAAE,KAAK;QAChB,MAAM,EAAE,IAAI;KACb,CAAC;;wCACe;AAMf;IAJD,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,MAAM;QACrB,SAAS,EAAE,KAAK;KACjB,CAAC;;2CACkB;AAOlB;IALD,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,KAAK;QACpB,SAAS,EAAE,KAAK;QAChB,YAAY,EAAE,CAAC;KAChB,CAAC;;0CACiB;AAGjB;IADD,IAAA,8BAAO,EAAC,GAAG,EAAE,CAAC,mCAA0B,CAAC;;6CACE;AAG5C;IADC,mCAAY;;qCAC0B,SAAS;;sCAI/C;AAnCkB,SAAS;IAJ7B,IAAA,4BAAK,EAAC;QACL,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,OAAO;KACnB,CAAC;GACmB,SAAS,CAoC7B;kBApCoB,SAAS","sourcesContent":["/* eslint-disable import/no-cycle */\nimport {\n  Table, Model, Column, DataType, BeforeCreate, HasMany,\n} from 'sequelize-typescript';\nimport bcrypt from 'bcrypt';\nimport { IUser } from '../interfaces/User';\nimport InvestmentsPortfoliotModel from './InvestmentsPortfolioModel';\n\n@Table({\n  timestamps: false,\n  tableName: 'Users',\n})\nexport default class UserModel extends Model<IUser> {\n  @Column({\n    type: DataType.STRING,\n    allowNull: false,\n  })\n    fullName!: string;\n\n  @Column({\n    type: DataType.STRING,\n    allowNull: false,\n    unique: true,\n  })\n    email!: string;\n\n  @Column({\n    type: DataType.STRING,\n    allowNull: false,\n  })\n    password!: string;\n\n  @Column({\n    type: DataType.FLOAT,\n    allowNull: false,\n    defaultValue: 0,\n  })\n    balance!: number;\n\n  @HasMany(() => InvestmentsPortfoliotModel)\n    portfolios!: InvestmentsPortfoliotModel[];\n\n  @BeforeCreate\n  static async encryptPassword(instance: UserModel) {\n    const salt = bcrypt.genSaltSync(10);\n    // eslint-disable-next-line no-param-reassign\n    instance.password = bcrypt.hashSync(instance.password, salt);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ccd8c5e7b6f10e1ee3affef3f2c9a5c4104a4eb1"},"/home/andrewerk/andrewerk-xp-app/src/models/InvestmentsPortfolioModel.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/models/InvestmentsPortfolioModel.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"16":{"start":{"line":16,"column":31},"end":{"line":16,"column":62}},"17":{"start":{"line":17,"column":21},"end":{"line":17,"column":61}},"18":{"start":{"line":18,"column":20},"end":{"line":18,"column":59}},"19":{"start":{"line":20,"column":21},"end":{"line":20,"column":61}},"20":{"start":{"line":21,"column":33},"end":{"line":22,"column":1}},"21":{"start":{"line":23,"column":0},"end":{"line":30,"column":59}},"22":{"start":{"line":24,"column":49},"end":{"line":24,"column":68}},"23":{"start":{"line":31,"column":0},"end":{"line":34,"column":57}},"24":{"start":{"line":32,"column":48},"end":{"line":32,"column":67}},"25":{"start":{"line":35,"column":0},"end":{"line":42,"column":64}},"26":{"start":{"line":36,"column":49},"end":{"line":36,"column":69}},"27":{"start":{"line":43,"column":0},"end":{"line":46,"column":58}},"28":{"start":{"line":44,"column":48},"end":{"line":44,"column":68}},"29":{"start":{"line":47,"column":0},"end":{"line":53,"column":61}},"30":{"start":{"line":54,"column":0},"end":{"line":57,"column":59}},"31":{"start":{"line":55,"column":46},"end":{"line":55,"column":66}},"32":{"start":{"line":58,"column":0},"end":{"line":68,"column":31}},"33":{"start":{"line":59,"column":46},"end":{"line":63,"column":5}},"34":{"start":{"line":69,"column":0},"end":{"line":69,"column":45}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":43},"end":{"line":24,"column":44}},"loc":{"start":{"line":24,"column":49},"end":{"line":24,"column":68}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":32,"column":42},"end":{"line":32,"column":43}},"loc":{"start":{"line":32,"column":48},"end":{"line":32,"column":67}},"line":32},"5":{"name":"(anonymous_5)","decl":{"start":{"line":36,"column":43},"end":{"line":36,"column":44}},"loc":{"start":{"line":36,"column":49},"end":{"line":36,"column":69}},"line":36},"6":{"name":"(anonymous_6)","decl":{"start":{"line":44,"column":42},"end":{"line":44,"column":43}},"loc":{"start":{"line":44,"column":48},"end":{"line":44,"column":68}},"line":44},"7":{"name":"(anonymous_7)","decl":{"start":{"line":55,"column":40},"end":{"line":55,"column":41}},"loc":{"start":{"line":55,"column":46},"end":{"line":55,"column":66}},"line":55},"8":{"name":"(anonymous_8)","decl":{"start":{"line":59,"column":39},"end":{"line":59,"column":40}},"loc":{"start":{"line":59,"column":46},"end":{"line":63,"column":5}},"line":59}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":7,"2":7,"3":7,"4":7,"5":0,"6":0,"7":0,"8":0,"9":7,"10":1,"11":6,"12":6,"13":1,"14":3,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":6,"23":1,"24":3,"25":1,"26":2,"27":1,"28":3,"29":1,"30":1,"31":3,"32":1,"33":1,"34":1},"f":{"0":7,"1":6,"2":3,"3":6,"4":3,"5":2,"6":3,"7":3,"8":1},"b":{"0":[1,1,1],"1":[1,6],"2":[0,6],"3":[7,0],"4":[7,7],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[7,6,0],"10":[1,1,1],"11":[6,0],"12":[6,6],"13":[1,1,1],"14":[3,0],"15":[3,3]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/models/InvestmentsPortfolioModel.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/models/InvestmentsPortfolioModel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,oCAAoC;AACpC,+DAE8B;AAC9B,8DAAsC;AACtC,4DAAoC;AAEpC,2CAA2C;AAC3C,8DAAsC;AAWtC,IAAqB,0BAA0B,GAA/C,MAAqB,0BAA2B,SAAQ,4BAAiB;CA6BxE,CAAA;AAvBG;IALD,IAAA,iCAAU,EAAC,GAAG,EAAE,CAAC,mBAAS,CAAC;IAC3B,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,OAAO;QACtB,SAAS,EAAE,KAAK;KACjB,CAAC;;0DACgB;AAGhB;IADD,IAAA,gCAAS,EAAC,GAAG,EAAE,CAAC,mBAAS,CAAC;8BAClB,mBAAS;wDAAC;AAOjB;IALD,IAAA,iCAAU,EAAC,GAAG,EAAE,CAAC,oBAAU,CAAC;IAC5B,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,MAAM;QACrB,SAAS,EAAE,KAAK;KACjB,CAAC;;+DACqB;AAGrB;IADD,IAAA,gCAAS,EAAC,GAAG,EAAE,CAAC,oBAAU,CAAC;8BAClB,oBAAU;yDAAC;AAMnB;IAJD,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,OAAO;QACtB,SAAS,EAAE,KAAK;KACjB,CAAC;;4DACkB;AAGlB;IADD,IAAA,8BAAO,EAAC,GAAG,EAAE,CAAC,oBAAU,CAAC;;0DACF;AA5BL,0BAA0B;IAT9C,IAAA,6BAAM,EAAC,GAAG,EAAE,CAAC,CAAC;QACb,OAAO,EAAE;YACP,OAAO,EAAE,CAAC,oBAAU,CAAC;SACtB;KACF,CAAC,CAAC;IACF,IAAA,4BAAK,EAAC;QACL,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,sBAAsB;KAClC,CAAC;GACmB,0BAA0B,CA6B9C;kBA7BoB,0BAA0B","sourcesContent":["/* eslint-disable import/no-cycle */\nimport {\n  Table, Model, Column, DataType, ForeignKey, BelongsTo, Scopes, HasMany,\n} from 'sequelize-typescript';\nimport StockModel from './StockModel';\nimport UserModel from './UserModel';\nimport IPortfolio from '../interfaces/Portfolio';\n// eslint-disable-next-line import/no-cycle\nimport TradeModel from './TradeModel';\n\n@Scopes(() => ({\n  records: {\n    include: [TradeModel],\n  },\n}))\n@Table({\n  timestamps: false,\n  tableName: 'InvestmentsPortfolio',\n})\nexport default class InvestmentsPortfoliotModel extends Model<IPortfolio> {\n  @ForeignKey(() => UserModel)\n  @Column({\n    type: DataType.INTEGER,\n    allowNull: false,\n  })\n    userId!: number;\n\n  @BelongsTo(() => UserModel)\n    user!: UserModel;\n\n  @ForeignKey(() => StockModel)\n  @Column({\n    type: DataType.STRING,\n    allowNull: false,\n  })\n    stockSymbol!: string;\n\n  @BelongsTo(() => StockModel)\n    stock!: StockModel;\n\n  @Column({\n    type: DataType.INTEGER,\n    allowNull: false,\n  })\n    quantity!: number;\n\n  @HasMany(() => TradeModel)\n    trades!: TradeModel[];\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a87c554762c9b1953db4af3c8cc927d541a2108c"},"/home/andrewerk/andrewerk-xp-app/src/models/StockModel.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/models/StockModel.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"16":{"start":{"line":16,"column":31},"end":{"line":16,"column":62}},"17":{"start":{"line":17,"column":36},"end":{"line":17,"column":91}},"18":{"start":{"line":18,"column":17},"end":{"line":19,"column":1}},"19":{"start":{"line":20,"column":0},"end":{"line":27,"column":43}},"20":{"start":{"line":28,"column":0},"end":{"line":34,"column":50}},"21":{"start":{"line":35,"column":0},"end":{"line":38,"column":47}},"22":{"start":{"line":36,"column":46},"end":{"line":36,"column":81}},"23":{"start":{"line":39,"column":0},"end":{"line":44,"column":15}},"24":{"start":{"line":45,"column":0},"end":{"line":45,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":36,"column":40},"end":{"line":36,"column":41}},"loc":{"start":{"line":36,"column":46},"end":{"line":36,"column":81}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":4,"2":4,"3":4,"4":4,"5":0,"6":0,"7":0,"8":0,"9":4,"10":1,"11":3,"12":3,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":2,"23":1,"24":1},"f":{"0":4,"1":3,"2":1,"3":2},"b":{"0":[1,1,1],"1":[1,3],"2":[0,3],"3":[4,0],"4":[4,4],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[4,3,0],"10":[1,1,1],"11":[3,0],"12":[3,3],"13":[1,1,1],"14":[1,0],"15":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/models/StockModel.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/models/StockModel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,oCAAoC;AACpC,+DAE8B;AAE9B,4FAAqE;AAMrE,IAAqB,UAAU,GAA/B,MAAqB,UAAW,SAAQ,4BAAwB;CAgB/D,CAAA;AAVG;IALD,iCAAU;IACV,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,MAAM;QACrB,SAAS,EAAE,KAAK;KACjB,CAAC;;0CACgB;AAMhB;IAJD,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,OAAO;QACtB,SAAS,EAAE,KAAK;KACjB,CAAC;;iDACuB;AAGvB;IADD,IAAA,8BAAO,EAAC,GAAG,EAAE,CAAC,mCAA0B,CAAC;;8CACE;AAfzB,UAAU;IAJ9B,IAAA,4BAAK,EAAC;QACL,UAAU,EAAE,IAAI;QAChB,SAAS,EAAE,QAAQ;KACpB,CAAC;GACmB,UAAU,CAgB9B;kBAhBoB,UAAU","sourcesContent":["/* eslint-disable import/no-cycle */\nimport {\n  Table, Model, Column, DataType, PrimaryKey, HasMany,\n} from 'sequelize-typescript';\nimport { StockAvailability } from '../interfaces/Stock';\nimport InvestmentsPortfoliotModel from './InvestmentsPortfolioModel';\n\n@Table({\n  timestamps: true,\n  tableName: 'Stocks',\n})\nexport default class StockModel extends Model<StockAvailability> {\n  @PrimaryKey\n  @Column({\n    type: DataType.STRING,\n    allowNull: false,\n  })\n    symbol!: string;\n\n  @Column({\n    type: DataType.INTEGER,\n    allowNull: false,\n  })\n    stockQuantity!: number;\n\n  @HasMany(() => InvestmentsPortfoliotModel)\n    portfolios!: InvestmentsPortfoliotModel[];\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"769b1dfd64d7716cfdd225d104d77d1b6a1ced54"},"/home/andrewerk/andrewerk-xp-app/src/models/TradeModel.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/models/TradeModel.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"16":{"start":{"line":16,"column":31},"end":{"line":16,"column":62}},"17":{"start":{"line":17,"column":36},"end":{"line":17,"column":91}},"18":{"start":{"line":18,"column":17},"end":{"line":19,"column":1}},"19":{"start":{"line":20,"column":0},"end":{"line":27,"column":48}},"20":{"start":{"line":21,"column":49},"end":{"line":21,"column":84}},"21":{"start":{"line":28,"column":0},"end":{"line":31,"column":46}},"22":{"start":{"line":29,"column":48},"end":{"line":29,"column":83}},"23":{"start":{"line":32,"column":0},"end":{"line":38,"column":45}},"24":{"start":{"line":39,"column":0},"end":{"line":45,"column":41}},"25":{"start":{"line":46,"column":0},"end":{"line":52,"column":42}},"26":{"start":{"line":53,"column":0},"end":{"line":58,"column":15}},"27":{"start":{"line":59,"column":0},"end":{"line":59,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":43},"end":{"line":21,"column":44}},"loc":{"start":{"line":21,"column":49},"end":{"line":21,"column":84}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":42},"end":{"line":29,"column":43}},"loc":{"start":{"line":29,"column":48},"end":{"line":29,"column":83}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":6,"2":6,"3":6,"4":6,"5":0,"6":0,"7":0,"8":0,"9":6,"10":1,"11":5,"12":5,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":2,"21":1,"22":2,"23":1,"24":1,"25":1,"26":1,"27":1},"f":{"0":6,"1":5,"2":1,"3":2,"4":2},"b":{"0":[1,1,1],"1":[1,5],"2":[0,5],"3":[6,0],"4":[6,6],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[6,5,0],"10":[1,1,1],"11":[5,0],"12":[5,5],"13":[1,1,1],"14":[1,0],"15":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/models/TradeModel.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/models/TradeModel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,oCAAoC;AACpC,+DAE8B;AAE9B,4FAAqE;AAMrE,IAAqB,UAAU,GAA/B,MAAqB,UAAW,SAAQ,4BAAa;CA4BpD,CAAA;AAtBG;IALD,IAAA,iCAAU,EAAC,GAAG,EAAE,CAAC,mCAA0B,CAAC;IAC5C,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,OAAO;QACtB,SAAS,EAAE,KAAK;KACjB,CAAC;;+CACqB;AAGrB;IADD,IAAA,gCAAS,EAAC,GAAG,EAAE,CAAC,mCAA0B,CAAC;8BAC9B,mCAA0B;6CAAC;AAMvC;IAJD,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,OAAO;QACtB,SAAS,EAAE,KAAK;KACjB,CAAC;;4CACkB;AAMlB;IAJD,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,MAAM;QACrB,SAAS,EAAE,KAAK;KACjB,CAAC;;wCACc;AAMd;IAJD,IAAA,6BAAM,EAAC;QACN,IAAI,EAAE,+BAAQ,CAAC,KAAK;QACpB,SAAS,EAAE,KAAK;KACjB,CAAC;;yCACe;AA3BE,UAAU;IAJ9B,IAAA,4BAAK,EAAC;QACL,UAAU,EAAE,IAAI;QAChB,SAAS,EAAE,QAAQ;KACpB,CAAC;GACmB,UAAU,CA4B9B;kBA5BoB,UAAU","sourcesContent":["/* eslint-disable import/no-cycle */\nimport {\n  Table, Model, Column, DataType, ForeignKey, BelongsTo,\n} from 'sequelize-typescript';\nimport ITrade from '../interfaces/Trade';\nimport InvestmentsPortfoliotModel from './InvestmentsPortfolioModel';\n\n@Table({\n  timestamps: true,\n  tableName: 'Trades',\n})\nexport default class TradeModel extends Model<ITrade> {\n  @ForeignKey(() => InvestmentsPortfoliotModel)\n  @Column({\n    type: DataType.INTEGER,\n    allowNull: false,\n  })\n    portfolioId!: number;\n\n  @BelongsTo(() => InvestmentsPortfoliotModel)\n    portfolio!: InvestmentsPortfoliotModel;\n\n  @Column({\n    type: DataType.INTEGER,\n    allowNull: false,\n  })\n    quantity!: number;\n\n  @Column({\n    type: DataType.STRING,\n    allowNull: false,\n  })\n    type!: string;\n\n  @Column({\n    type: DataType.FLOAT,\n    allowNull: false,\n  })\n    value!: number;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b9d94589e5a646aa2f40a685e8da6d8c46978e36"},"/home/andrewerk/andrewerk-xp-app/src/routes/index.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/routes/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":21},"end":{"line":8,"column":61}},"6":{"start":{"line":9,"column":24},"end":{"line":9,"column":67}},"7":{"start":{"line":10,"column":26},"end":{"line":10,"column":84}},"8":{"start":{"line":11,"column":23},"end":{"line":11,"column":65}},"9":{"start":{"line":12,"column":22},"end":{"line":12,"column":63}},"10":{"start":{"line":13,"column":26},"end":{"line":13,"column":71}},"11":{"start":{"line":14,"column":15},"end":{"line":14,"column":38}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":43}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":43}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":75}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":73}},"16":{"start":{"line":19,"column":0},"end":{"line":19,"column":77}},"17":{"start":{"line":20,"column":0},"end":{"line":20,"column":76}},"18":{"start":{"line":21,"column":0},"end":{"line":21,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":7,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1},"f":{"0":7},"b":{"0":[1,1,1],"1":[7,0],"2":[7,7]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/routes/index.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/routes/index.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,8DAAsC;AACtC,8DAAsC;AACtC,oEAA4C;AAC5C,qFAA2D;AAC3D,kEAA0C;AAC1C,gEAAwC;AACxC,wEAA+C;AAE/C,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,oBAAU,CAAC,CAAC;AACjC,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,oBAAU,CAAC,CAAC;AACjC,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,yBAAa,EAAE,uBAAa,CAAC,CAAC;AACrD,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,yBAAa,EAAE,sBAAY,CAAC,CAAC;AACnD,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,yBAAa,EAAE,qBAAW,CAAC,CAAC;AACvD,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,yBAAa,EAAE,yBAAc,CAAC,CAAC;AAErD,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\nimport loginRoute from './loginRoute';\nimport userRouter from './userRoutes';\nimport accountRoutes from './accountRoutes';\nimport validateToken from '../middlewares/auth.middleware';\nimport stocksRoutes from './stocksRoutes';\nimport tradeRoutes from './tradeRoutes';\nimport portfolioRoute from './portfolioRoutes';\n\nconst routes = Router();\n\nroutes.use('/users', userRouter);\nroutes.use('/login', loginRoute);\nroutes.use('/account', validateToken, accountRoutes);\nroutes.use('/stocks', validateToken, stocksRoutes);\nroutes.use('/investments', validateToken, tradeRoutes);\nroutes.use('/assets', validateToken, portfolioRoute);\n\nexport default routes;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0acbf12d39c5ef187bf89da4b8521362997f9d1f"},"/home/andrewerk/andrewerk-xp-app/src/routes/loginRoute.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/routes/loginRoute.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":26},"end":{"line":7,"column":84}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"6":{"start":{"line":9,"column":27},"end":{"line":9,"column":86}},"7":{"start":{"line":10,"column":19},"end":{"line":10,"column":42}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":82}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/routes/loginRoute.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/routes/loginRoute.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,qFAA6D;AAC7D,gCAA8B;AAC9B,uFAA8D;AAE9D,MAAM,UAAU,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE5B,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,0BAAe,EAAE,yBAAe,CAAC,KAAK,CAAC,CAAC;AAE7D,kBAAe,UAAU,CAAC","sourcesContent":["import { Router } from 'express';\nimport loginController from '../controllers/loginController';\nimport 'express-async-errors';\nimport loginValidation from '../middlewares/login.middleware';\n\nconst loginRoute = Router();\n\nloginRoute.post('/', loginValidation, loginController.login);\n\nexport default loginRoute;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d2f764933ce2b57ad41c34685427900ec627924f"},"/home/andrewerk/andrewerk-xp-app/src/controllers/loginController.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/controllers/loginController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":23},"end":{"line":15,"column":75}},"16":{"start":{"line":16,"column":25},"end":{"line":16,"column":76}},"17":{"start":{"line":17,"column":27},"end":{"line":17,"column":80}},"18":{"start":{"line":18,"column":14},"end":{"line":22,"column":2}},"19":{"start":{"line":18,"column":28},"end":{"line":22,"column":2}},"20":{"start":{"line":19,"column":17},"end":{"line":19,"column":61}},"21":{"start":{"line":20,"column":18},"end":{"line":20,"column":53}},"22":{"start":{"line":21,"column":4},"end":{"line":21,"column":65}},"23":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":14},"end":{"line":18,"column":15}},"loc":{"start":{"line":18,"column":28},"end":{"line":22,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":62},"end":{"line":18,"column":63}},"loc":{"start":{"line":18,"column":75},"end":{"line":22,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":1,"2":0,"3":2,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":2,"11":2,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":2,"20":2,"21":1,"22":1,"23":1},"f":{"0":2,"1":1,"2":0,"3":2,"4":1,"5":0,"6":2,"7":3,"8":2,"9":2},"b":{"0":[1,1,1],"1":[1,0],"2":[2,2],"3":[1,1],"4":[2,2],"5":[1,1,1],"6":[3,0],"7":[3,3]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/controllers/loginController.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/controllers/loginController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,4EAAoD;AACpD,6EAAoD;AACpD,iFAAuD;AAEvD,MAAM,KAAK,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IACrE,MAAM,IAAI,GAAG,MAAM,sBAAY,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAChD,MAAM,KAAK,GAAG,IAAA,wBAAa,EAAC,IAAI,CAAC,CAAC;IAClC,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACnD,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,KAAK;CACN,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport loginService from '../services/loginService';\nimport generateToken from '../utils/generate.token';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst login = async (req: Request, res: Response): Promise<Response> => {\n  const user = await loginService.login(req.body);\n  const token = generateToken(user);\n  return res.status(HttpStatusCode.OK).json(token);\n};\n\nexport default {\n  login,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5578f4b00d2918d4cf22b7b9e52d5a76e1dfd770"},"/home/andrewerk/andrewerk-xp-app/src/services/loginService.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/services/loginService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":51}},"16":{"start":{"line":16,"column":20},"end":{"line":16,"column":67}},"17":{"start":{"line":17,"column":25},"end":{"line":17,"column":76}},"18":{"start":{"line":18,"column":27},"end":{"line":18,"column":80}},"19":{"start":{"line":19,"column":14},"end":{"line":33,"column":2}},"20":{"start":{"line":19,"column":24},"end":{"line":33,"column":2}},"21":{"start":{"line":20,"column":32},"end":{"line":20,"column":36}},"22":{"start":{"line":21,"column":23},"end":{"line":25,"column":6}},"23":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"24":{"start":{"line":27,"column":8},"end":{"line":27,"column":107}},"25":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"26":{"start":{"line":30,"column":8},"end":{"line":30,"column":44}},"27":{"start":{"line":32,"column":4},"end":{"line":32,"column":103}},"28":{"start":{"line":34,"column":0},"end":{"line":36,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":14},"end":{"line":19,"column":15}},"loc":{"start":{"line":19,"column":24},"end":{"line":33,"column":2}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":58},"end":{"line":19,"column":59}},"loc":{"start":{"line":19,"column":71},"end":{"line":33,"column":1}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},{"start":{"line":26,"column":4},"end":{"line":28,"column":5}}],"line":26},"9":{"loc":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},{"start":{"line":29,"column":4},"end":{"line":31,"column":5}}],"line":29}},"s":{"0":1,"1":5,"2":0,"3":3,"4":5,"5":5,"6":2,"7":0,"8":0,"9":0,"10":6,"11":3,"12":1,"13":4,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":3,"21":3,"22":3,"23":3,"24":1,"25":2,"26":1,"27":1,"28":1},"f":{"0":3,"1":5,"2":0,"3":3,"4":5,"5":0,"6":6,"7":4,"8":3,"9":3},"b":{"0":[1,1,1],"1":[5,0],"2":[3,3],"3":[1,5],"4":[3,3],"5":[1,1,1],"6":[3,1],"7":[4,4],"8":[1,2],"9":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/services/loginService.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/services/loginService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,oDAA4B;AAC5B,oEAA4C;AAE5C,6EAAoD;AACpD,iFAAuD;AAEvD,MAAM,KAAK,GAAG,CAAO,IAAgB,EAAuB,EAAE;IAC5D,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;IACjC,MAAM,UAAU,GAAG,MAAM,mBAAS,CAAC,OAAO,CAAC;QACzC,KAAK,EAAE;YACL,KAAK;SACN;KACF,CAAC,CAAC;IACH,IAAI,CAAC,UAAU,EAAE;QACf,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,YAAY,EAAE,qBAAqB,CAAC,CAAC;KAC7E;IACD,IAAI,MAAM,gBAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAU,CAAC,QAAQ,CAAC,EAAE;QACvD,OAAO,EAAE,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC;KACrC;IACD,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,YAAY,EAAE,qBAAqB,CAAC,CAAC;AAC9E,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,KAAK;CACN,CAAC","sourcesContent":["import bcrypt from 'bcrypt';\nimport UserModel from '../models/UserModel';\nimport { IUserLogin, IUserToken } from '../interfaces/User';\nimport HttpException from '../utils/http.exception';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst login = async (user: IUserLogin): Promise<IUserToken> => {\n  const { email, password } = user;\n  const userExists = await UserModel.findOne({\n    where: {\n      email,\n    },\n  });\n  if (!userExists) {\n    throw new HttpException(HttpStatusCode.UNAUTHORIZED, 'Invalid credentials');\n  }\n  if (await bcrypt.compare(password, userExists.password)) {\n    return { id: userExists.id, email };\n  }\n  throw new HttpException(HttpStatusCode.UNAUTHORIZED, 'Invalid credentials');\n};\n\nexport default {\n  login,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ace7988d0c61c222f0818e9b5fa8cb08ae8d93fb"},"/home/andrewerk/andrewerk-xp-app/src/utils/http.exception.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/utils/http.exception.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":33},"end":{"line":7,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":12,"2":12,"3":1},"f":{"0":12},"b":{},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/utils/http.exception.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/utils/http.exception.ts"],"names":[],"mappings":";;AAAA,MAAqB,aAAc,SAAQ,KAAK;IAC9C,YAAmB,MAAc,EAAE,OAAe;QAChD,KAAK,CAAC,OAAO,CAAC,CAAC;QADE,WAAM,GAAN,MAAM,CAAQ;IAEjC,CAAC;CACF;AAJD,gCAIC","sourcesContent":["export default class HttpException extends Error {\n  constructor(public status: number, message: string) {\n    super(message);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"73a343f5521e6d054a8e7e3eeb11b89abedb4107"},"/home/andrewerk/andrewerk-xp-app/src/utils/http.status.code.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/utils/http.status.code.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":14,"column":44}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":54}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":64}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":70}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":72}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":74}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":68}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":66}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":90}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":82}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":1},"end":{"line":4,"column":2}},"loc":{"start":{"line":4,"column":27},"end":{"line":14,"column":1}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":3},"end":{"line":14,"column":42}},"type":"binary-expr","locations":[{"start":{"line":14,"column":3},"end":{"line":14,"column":17}},{"start":{"line":14,"column":22},"end":{"line":14,"column":41}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/utils/http.status.code.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/utils/http.status.code.ts"],"names":[],"mappings":";;AAAA,IAAK,cAUJ;AAVD,WAAK,cAAc;IACjB,iDAAQ,CAAA;IACR,2DAAa,CAAA;IACb,iEAAgB,CAAA;IAChB,mEAAiB,CAAA;IACjB,qEAAkB,CAAA;IAClB,+DAAe,CAAA;IACf,6DAAc,CAAA;IACd,qFAA0B,CAAA;IAC1B,6EAAsB,CAAA;AACxB,CAAC,EAVI,cAAc,KAAd,cAAc,QAUlB;AAED,kBAAe,cAAc,CAAC","sourcesContent":["enum HttpStatusCode {\n  OK = 200,\n  CREATED = 201,\n  NO_CONTENT = 204,\n  BAD_REQUEST = 400,\n  UNAUTHORIZED = 401,\n  NOT_FOUND = 404,\n  CONFLICT = 409,\n  UNPROCESSABLE_ENTITY = 422,\n  TO_MANY_REQUESTS = 429,\n}\n\nexport default HttpStatusCode;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e98a2ae9356384c757bbabe8f27d6a33a06b1cd4"},"/home/andrewerk/andrewerk-xp-app/src/utils/generate.token.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/utils/generate.token.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":48}},"3":{"start":{"line":5,"column":18},"end":{"line":8,"column":1}},"4":{"start":{"line":9,"column":22},"end":{"line":9,"column":81}},"5":{"start":{"line":9,"column":32},"end":{"line":9,"column":81}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":22},"end":{"line":9,"column":23}},"loc":{"start":{"line":9,"column":32},"end":{"line":9,"column":81}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":15},"end":{"line":4,"column":48}},"type":"binary-expr","locations":[{"start":{"line":4,"column":15},"end":{"line":4,"column":33}},{"start":{"line":4,"column":37},"end":{"line":4,"column":48}}],"line":4}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":7,"6":1},"f":{"0":7},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/utils/generate.token.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/utils/generate.token.ts"],"names":[],"mappings":";;AAAA,+CAAiD;AAGjD,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,IAAI,WAAW,CAAC;AAEjD,MAAM,SAAS,GAAgB;IAC7B,SAAS,EAAE,KAAK;IAChB,SAAS,EAAE,OAAO;CACnB,CAAC;AAEF,MAAM,aAAa,GAAG,CAAC,IAAgB,EAAU,EAAE,CAAC,IAAA,mBAAI,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;AAElF,kBAAe,aAAa,CAAC","sourcesContent":["import { sign, SignOptions } from 'jsonwebtoken';\nimport { IUserToken } from '../interfaces/User';\n\nconst secret = process.env.SECRET || 'jwtsecret';\n\nconst jwtConfig: SignOptions = {\n  expiresIn: '50m',\n  algorithm: 'HS256',\n};\n\nconst generateToken = (data: IUserToken): string => sign(data, secret, jwtConfig);\n\nexport default generateToken;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b930b1a06cc37e9558d81ef12cf3c21d826bc154"},"/home/andrewerk/andrewerk-xp-app/src/middlewares/login.middleware.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/middlewares/login.middleware.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":45}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":76}},"5":{"start":{"line":8,"column":27},"end":{"line":8,"column":80}},"6":{"start":{"line":9,"column":17},"end":{"line":16,"column":2}},"7":{"start":{"line":17,"column":24},"end":{"line":27,"column":1}},"8":{"start":{"line":18,"column":22},"end":{"line":18,"column":72}},"9":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":22}},"11":{"start":{"line":22,"column":20},"end":{"line":22,"column":33}},"12":{"start":{"line":23,"column":4},"end":{"line":24,"column":43}},"13":{"start":{"line":24,"column":8},"end":{"line":24,"column":43}},"14":{"start":{"line":25,"column":21},"end":{"line":25,"column":56}},"15":{"start":{"line":25,"column":46},"end":{"line":25,"column":55}},"16":{"start":{"line":26,"column":4},"end":{"line":26,"column":91}},"17":{"start":{"line":28,"column":0},"end":{"line":28,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":24},"end":{"line":17,"column":25}},"loc":{"start":{"line":17,"column":44},"end":{"line":27,"column":1}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":39},"end":{"line":25,"column":40}},"loc":{"start":{"line":25,"column":46},"end":{"line":25,"column":55}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},{"start":{"line":19,"column":4},"end":{"line":21,"column":5}}],"line":19},"4":{"loc":{"start":{"line":23,"column":4},"end":{"line":24,"column":43}},"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":24,"column":43}},{"start":{"line":23,"column":4},"end":{"line":24,"column":43}}],"line":23}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":5,"9":5,"10":2,"11":3,"12":3,"13":2,"14":3,"15":4,"16":3,"17":1},"f":{"0":3,"1":5,"2":4},"b":{"0":[1,1,1],"1":[2,1],"2":[3,3],"3":[2,3],"4":[2,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/middlewares/login.middleware.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/middlewares/login.middleware.ts"],"names":[],"mappings":";;;;;AACA,8CAAsB;AACtB,6EAAoD;AACpD,iFAAuD;AAEvD,MAAM,QAAQ,GAAG,aAAG,CAAC,MAAM,CAAC;IAC1B,KAAK,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE;IACtC,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;CACzC,CAAC,CAAC,QAAQ,CAAC;IACV,cAAc,EAAE,wBAAwB;IACxC,YAAY,EAAE,+DAA+D;IAC7E,cAAc,EAAE,kCAAkC;CACnD,CAAC,CAAC;AAEH,MAAM,eAAe,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC1E,MAAM,EAAE,KAAK,EAAE,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;IACrE,IAAI,CAAC,KAAK,EAAE;QACV,OAAO,IAAI,EAAE,CAAC;KACf;IACD,IAAI,SAAS,GAAgC,aAAa,CAAC;IAC3D,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,cAAc;QAAE,SAAS,GAAG,sBAAsB,CAAC;IACjF,MAAM,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;IACrD,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,SAAS,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AAClE,CAAC,CAAC;AAEF,kBAAe,eAAe,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport Joi from 'joi';\nimport HttpException from '../utils/http.exception';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst loginDTO = Joi.object({\n  email: Joi.string().email().required(),\n  password: Joi.string().min(6).required(),\n}).messages({\n  'any.required': '{{#label}} is required',\n  'string.min': '{{#label}} length must be at least {{#limit}} characters long',\n  'string.email': '{{#label}} must be a valid email',\n});\n\nconst loginValidation = (req: Request, res: Response, next: NextFunction) => {\n  const { error } = loginDTO.validate(req.body, { abortEarly: false });\n  if (!error) {\n    return next();\n  }\n  let errorCode: keyof typeof HttpStatusCode = 'BAD_REQUEST';\n  if (error.details[0].type !== 'any.required') errorCode = 'UNPROCESSABLE_ENTITY';\n  const messages = error.details.map((e) => e.message);\n  throw new HttpException(HttpStatusCode[errorCode], messages[0]);\n};\n\nexport default loginValidation;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2233fd31f9500814f1779151c88a32ac862347e0"},"/home/andrewerk/andrewerk-xp-app/src/routes/userRoutes.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/routes/userRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":82}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"6":{"start":{"line":9,"column":27},"end":{"line":9,"column":86}},"7":{"start":{"line":10,"column":19},"end":{"line":10,"column":42}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":86}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/routes/userRoutes.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/routes/userRoutes.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,mFAA2D;AAC3D,gCAA8B;AAC9B,uFAAgE;AAEhE,MAAM,UAAU,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE5B,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,0BAAiB,EAAE,wBAAc,CAAC,UAAU,CAAC,CAAC;AAEnE,kBAAe,UAAU,CAAC","sourcesContent":["import { Router } from 'express';\nimport userController from '../controllers/userController';\nimport 'express-async-errors';\nimport addUserValidation from '../middlewares/user.validations';\n\nconst userRouter = Router();\n\nuserRouter.post('/', addUserValidation, userController.createUser);\n\nexport default userRouter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"25bdc830d59dfc6b617d45b7930bbc4b023d7736"},"/home/andrewerk/andrewerk-xp-app/src/controllers/userController.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/controllers/userController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":22},"end":{"line":15,"column":73}},"16":{"start":{"line":16,"column":25},"end":{"line":16,"column":76}},"17":{"start":{"line":17,"column":27},"end":{"line":17,"column":80}},"18":{"start":{"line":18,"column":19},"end":{"line":22,"column":2}},"19":{"start":{"line":18,"column":33},"end":{"line":22,"column":2}},"20":{"start":{"line":19,"column":20},"end":{"line":19,"column":68}},"21":{"start":{"line":20,"column":18},"end":{"line":20,"column":56}},"22":{"start":{"line":21,"column":4},"end":{"line":21,"column":70}},"23":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":19},"end":{"line":18,"column":20}},"loc":{"start":{"line":18,"column":33},"end":{"line":22,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":67},"end":{"line":18,"column":68}},"loc":{"start":{"line":18,"column":80},"end":{"line":22,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":6,"2":0,"3":6,"4":6,"5":6,"6":0,"7":0,"8":0,"9":0,"10":12,"11":6,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":6,"20":6,"21":6,"22":6,"23":1},"f":{"0":6,"1":6,"2":0,"3":6,"4":6,"5":0,"6":12,"7":3,"8":6,"9":6},"b":{"0":[1,1,1],"1":[6,0],"2":[6,6],"3":[6,6],"4":[6,6],"5":[1,1,1],"6":[3,0],"7":[3,3]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/controllers/userController.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/controllers/userController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,0EAAkD;AAClD,6EAAoD;AACpD,iFAAuD;AAEvD,MAAM,UAAU,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IAC1E,MAAM,OAAO,GAAG,MAAM,qBAAW,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACvD,MAAM,KAAK,GAAG,IAAA,wBAAa,EAAC,OAAO,CAAC,CAAC;IACrC,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACxD,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,UAAU;CACX,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport userService from '../services/userService';\nimport generateToken from '../utils/generate.token';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst createUser = async (req: Request, res: Response): Promise<Response> => {\n  const newUser = await userService.createUser(req.body);\n  const token = generateToken(newUser);\n  return res.status(HttpStatusCode.CREATED).json(token);\n};\n\nexport default {\n  createUser,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ecf855557cd7c56c0feffbb4c80158ef472d8ac7"},"/home/andrewerk/andrewerk-xp-app/src/services/userService.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/services/userService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":20},"end":{"line":15,"column":67}},"16":{"start":{"line":16,"column":25},"end":{"line":16,"column":76}},"17":{"start":{"line":17,"column":27},"end":{"line":17,"column":80}},"18":{"start":{"line":18,"column":19},"end":{"line":28,"column":2}},"19":{"start":{"line":18,"column":29},"end":{"line":28,"column":2}},"20":{"start":{"line":19,"column":22},"end":{"line":19,"column":26}},"21":{"start":{"line":20,"column":30},"end":{"line":23,"column":6}},"22":{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},"23":{"start":{"line":25,"column":8},"end":{"line":25,"column":104}},"24":{"start":{"line":27,"column":4},"end":{"line":27,"column":25}},"25":{"start":{"line":29,"column":0},"end":{"line":31,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":19},"end":{"line":18,"column":20}},"loc":{"start":{"line":18,"column":29},"end":{"line":28,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":63},"end":{"line":18,"column":64}},"loc":{"start":{"line":18,"column":76},"end":{"line":28,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},{"start":{"line":24,"column":4},"end":{"line":26,"column":5}}],"line":24}},"s":{"0":1,"1":2,"2":0,"3":2,"4":2,"5":2,"6":1,"7":0,"8":0,"9":0,"10":3,"11":2,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":2,"20":2,"21":2,"22":2,"23":1,"24":1,"25":1},"f":{"0":2,"1":2,"2":0,"3":2,"4":2,"5":0,"6":3,"7":3,"8":2,"9":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[1,2],"4":[2,2],"5":[1,1,1],"6":[3,0],"7":[3,3],"8":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/services/userService.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/services/userService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,oEAA4C;AAE5C,6EAAoD;AACpD,iFAAuD;AAEvD,MAAM,UAAU,GAAG,CAAO,IAAW,EAAuB,EAAE;IAC5D,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;IACvB,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,OAAO,CAAC,GAAG,MAAM,mBAAS,CAAC,YAAY,CAAC;QACrD,KAAK,EAAE,EAAE,KAAK,EAAE;QAChB,QAAQ,EAAE,IAAI;KACf,CAAC,CAAC;IACH,IAAI,CAAC,OAAO,EAAE;QACZ,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,QAAQ,EAAE,sBAAsB,CAAC,CAAC;KAC1E;IACD,OAAO,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC;AACvB,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,UAAU;CACX,CAAC","sourcesContent":["import UserModel from '../models/UserModel';\nimport { IUser, IUserToken } from '../interfaces/User';\nimport HttpException from '../utils/http.exception';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst createUser = async (user: IUser): Promise<IUserToken> => {\n  const { email } = user;\n  const [{ id }, created] = await UserModel.findOrCreate({\n    where: { email },\n    defaults: user,\n  });\n  if (!created) {\n    throw new HttpException(HttpStatusCode.CONFLICT, 'Email already in use');\n  }\n  return { id, email };\n};\n\nexport default {\n  createUser,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a780379e57df7b6b559d1b047c5bb95c78e1dc69"},"/home/andrewerk/andrewerk-xp-app/src/middlewares/user.validations.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/middlewares/user.validations.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":45}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":76}},"5":{"start":{"line":8,"column":27},"end":{"line":8,"column":80}},"6":{"start":{"line":9,"column":16},"end":{"line":18,"column":2}},"7":{"start":{"line":19,"column":26},"end":{"line":29,"column":1}},"8":{"start":{"line":20,"column":22},"end":{"line":20,"column":71}},"9":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"10":{"start":{"line":22,"column":8},"end":{"line":22,"column":22}},"11":{"start":{"line":24,"column":20},"end":{"line":24,"column":33}},"12":{"start":{"line":25,"column":4},"end":{"line":26,"column":43}},"13":{"start":{"line":26,"column":8},"end":{"line":26,"column":43}},"14":{"start":{"line":27,"column":21},"end":{"line":27,"column":56}},"15":{"start":{"line":27,"column":46},"end":{"line":27,"column":55}},"16":{"start":{"line":28,"column":4},"end":{"line":28,"column":91}},"17":{"start":{"line":30,"column":0},"end":{"line":30,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":26},"end":{"line":19,"column":27}},"loc":{"start":{"line":19,"column":46},"end":{"line":29,"column":1}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":27,"column":39},"end":{"line":27,"column":40}},"loc":{"start":{"line":27,"column":46},"end":{"line":27,"column":55}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},{"start":{"line":21,"column":4},"end":{"line":23,"column":5}}],"line":21},"4":{"loc":{"start":{"line":25,"column":4},"end":{"line":26,"column":43}},"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":26,"column":43}},{"start":{"line":25,"column":4},"end":{"line":26,"column":43}}],"line":25}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":9,"9":9,"10":6,"11":3,"12":3,"13":2,"14":3,"15":5,"16":3,"17":1},"f":{"0":3,"1":9,"2":5},"b":{"0":[1,1,1],"1":[2,1],"2":[3,3],"3":[6,3],"4":[2,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/middlewares/user.validations.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/middlewares/user.validations.ts"],"names":[],"mappings":";;;;;AACA,8CAAsB;AACtB,6EAAoD;AACpD,iFAAuD;AAEvD,MAAM,OAAO,GAAG,aAAG,CAAC,MAAM,CAAC;IACzB,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;IACxC,KAAK,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE;IACtC,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;CACzC,CAAC,CAAC,QAAQ,CAAC;IACV,cAAc,EAAE,wBAAwB;IACxC,YAAY,EAAE,6BAA6B;IAC3C,YAAY,EAAE,+DAA+D;IAC7E,cAAc,EAAE,kCAAkC;CACnD,CAAC,CAAC;AAEH,MAAM,iBAAiB,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC5E,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;IACpE,IAAI,CAAC,KAAK,EAAE;QACV,OAAO,IAAI,EAAE,CAAC;KACf;IACD,IAAI,SAAS,GAAgC,aAAa,CAAC;IAC3D,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,cAAc;QAAE,SAAS,GAAG,sBAAsB,CAAC;IACjF,MAAM,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;IACrD,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,SAAS,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AAClE,CAAC,CAAC;AAEF,kBAAe,iBAAiB,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport Joi from 'joi';\nimport HttpException from '../utils/http.exception';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst userDTO = Joi.object({\n  fullName: Joi.string().min(3).required(),\n  email: Joi.string().email().required(),\n  password: Joi.string().min(6).required(),\n}).messages({\n  'any.required': '{{#label}} is required',\n  'any.string': '{{#label}} must be a string',\n  'string.min': '{{#label}} length must be at least {{#limit}} characters long',\n  'string.email': '{{#label}} must be a valid email',\n});\n\nconst addUserValidation = (req: Request, res: Response, next: NextFunction) => {\n  const { error } = userDTO.validate(req.body, { abortEarly: false });\n  if (!error) {\n    return next();\n  }\n  let errorCode: keyof typeof HttpStatusCode = 'BAD_REQUEST';\n  if (error.details[0].type !== 'any.required') errorCode = 'UNPROCESSABLE_ENTITY';\n  const messages = error.details.map((e) => e.message);\n  throw new HttpException(HttpStatusCode[errorCode], messages[0]);\n};\n\nexport default addUserValidation;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d609c07bb1e80a35c9b38eab0d40fe5eacc9e927"},"/home/andrewerk/andrewerk-xp-app/src/routes/accountRoutes.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/routes/accountRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":28},"end":{"line":7,"column":88}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"6":{"start":{"line":9,"column":29},"end":{"line":9,"column":90}},"7":{"start":{"line":10,"column":22},"end":{"line":10,"column":45}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":58}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":98}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":100}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/routes/accountRoutes.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/routes/accountRoutes.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,yFAAiE;AACjE,gCAA8B;AAC9B,2FAAkE;AAElE,MAAM,aAAa,GAAG,IAAA,gBAAM,GAAE,CAAC;AAC/B,aAAa,CAAC,GAAG,CAAC,GAAG,EAAE,2BAAiB,CAAC,KAAK,CAAC,CAAC;AAChD,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,4BAAiB,EAAE,2BAAiB,CAAC,OAAO,CAAC,CAAC;AAC7E,aAAa,CAAC,IAAI,CAAC,WAAW,EAAE,4BAAiB,EAAE,2BAAiB,CAAC,QAAQ,CAAC,CAAC;AAE/E,kBAAe,aAAa,CAAC","sourcesContent":["import { Router } from 'express';\nimport accountController from '../controllers/accountController';\nimport 'express-async-errors';\nimport accountValidation from '../middlewares/account.middleware';\n\nconst accountRoutes = Router();\naccountRoutes.get('/', accountController.check);\naccountRoutes.post('/deposit', accountValidation, accountController.deposit);\naccountRoutes.post('/withdraw', accountValidation, accountController.withdraw);\n\nexport default accountRoutes;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8812d13ba109fa426a600ef1b01dbf9dbea238f0"},"/home/andrewerk/andrewerk-xp-app/src/controllers/accountController.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/controllers/accountController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":25},"end":{"line":15,"column":79}},"16":{"start":{"line":16,"column":27},"end":{"line":16,"column":80}},"17":{"start":{"line":17,"column":16},"end":{"line":22,"column":2}},"18":{"start":{"line":17,"column":30},"end":{"line":22,"column":2}},"19":{"start":{"line":18,"column":19},"end":{"line":18,"column":34}},"20":{"start":{"line":19,"column":22},"end":{"line":19,"column":30}},"21":{"start":{"line":20,"column":20},"end":{"line":20,"column":75}},"22":{"start":{"line":21,"column":4},"end":{"line":21,"column":67}},"23":{"start":{"line":23,"column":17},"end":{"line":28,"column":2}},"24":{"start":{"line":23,"column":31},"end":{"line":28,"column":2}},"25":{"start":{"line":24,"column":19},"end":{"line":24,"column":34}},"26":{"start":{"line":25,"column":22},"end":{"line":25,"column":30}},"27":{"start":{"line":26,"column":20},"end":{"line":26,"column":76}},"28":{"start":{"line":27,"column":4},"end":{"line":27,"column":67}},"29":{"start":{"line":29,"column":14},"end":{"line":33,"column":2}},"30":{"start":{"line":29,"column":28},"end":{"line":33,"column":2}},"31":{"start":{"line":30,"column":19},"end":{"line":30,"column":34}},"32":{"start":{"line":31,"column":20},"end":{"line":31,"column":62}},"33":{"start":{"line":32,"column":4},"end":{"line":32,"column":67}},"34":{"start":{"line":34,"column":0},"end":{"line":38,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":16},"end":{"line":17,"column":17}},"loc":{"start":{"line":17,"column":30},"end":{"line":22,"column":2}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":64},"end":{"line":17,"column":65}},"loc":{"start":{"line":17,"column":77},"end":{"line":22,"column":1}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":23,"column":17},"end":{"line":23,"column":18}},"loc":{"start":{"line":23,"column":31},"end":{"line":28,"column":2}},"line":23},"11":{"name":"(anonymous_11)","decl":{"start":{"line":23,"column":65},"end":{"line":23,"column":66}},"loc":{"start":{"line":23,"column":78},"end":{"line":28,"column":1}},"line":23},"12":{"name":"(anonymous_12)","decl":{"start":{"line":29,"column":14},"end":{"line":29,"column":15}},"loc":{"start":{"line":29,"column":28},"end":{"line":33,"column":2}},"line":29},"13":{"name":"(anonymous_13)","decl":{"start":{"line":29,"column":62},"end":{"line":29,"column":63}},"loc":{"start":{"line":29,"column":75},"end":{"line":33,"column":1}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":3,"2":0,"3":3,"4":3,"5":3,"6":0,"7":0,"8":0,"9":0,"10":6,"11":3,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1},"f":{"0":3,"1":3,"2":0,"3":3,"4":3,"5":0,"6":6,"7":2,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3],"3":[3,3],"4":[3,3],"5":[1,1,1],"6":[2,0],"7":[2,2]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/controllers/accountController.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/controllers/accountController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,gFAAwD;AACxD,iFAAuD;AAEvD,MAAM,OAAO,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IACvE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAC/B,MAAM,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAC3B,MAAM,OAAO,GAAG,MAAM,wBAAc,CAAC,OAAO,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;IAC9D,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACrD,CAAC,CAAA,CAAC;AAEF,MAAM,QAAQ,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IACxE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAC/B,MAAM,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAC3B,MAAM,OAAO,GAAG,MAAM,wBAAc,CAAC,QAAQ,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;IAC/D,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACrD,CAAC,CAAA,CAAC;AAEF,MAAM,KAAK,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IACrE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAC/B,MAAM,OAAO,GAAG,MAAM,wBAAc,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IACjD,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACrD,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,OAAO;IACP,QAAQ;IACR,KAAK;CACN,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport accountService from '../services/accountService';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst deposit = async (req: Request, res: Response): Promise<Response> => {\n  const { id } = res.locals.user;\n  const { value } = req.body;\n  const account = await accountService.deposit(id, value, null);\n  return res.status(HttpStatusCode.OK).json(account);\n};\n\nconst withdraw = async (req: Request, res: Response): Promise<Response> => {\n  const { id } = res.locals.user;\n  const { value } = req.body;\n  const account = await accountService.withdraw(id, value, null);\n  return res.status(HttpStatusCode.OK).json(account);\n};\n\nconst check = async (req: Request, res: Response): Promise<Response> => {\n  const { id } = res.locals.user;\n  const account = await accountService.getById(id);\n  return res.status(HttpStatusCode.OK).json(account);\n};\n\nexport default {\n  deposit,\n  withdraw,\n  check,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d945978975144520867c87b4c9eea4e52a66774e"},"/home/andrewerk/andrewerk-xp-app/src/services/accountService.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/services/accountService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":20},"end":{"line":15,"column":67}},"16":{"start":{"line":16,"column":25},"end":{"line":16,"column":76}},"17":{"start":{"line":17,"column":27},"end":{"line":17,"column":80}},"18":{"start":{"line":18,"column":16},"end":{"line":28,"column":2}},"19":{"start":{"line":18,"column":38},"end":{"line":28,"column":2}},"20":{"start":{"line":19,"column":17},"end":{"line":19,"column":59}},"21":{"start":{"line":20,"column":4},"end":{"line":26,"column":5}},"22":{"start":{"line":21,"column":8},"end":{"line":23,"column":31}},"23":{"start":{"line":24,"column":8},"end":{"line":24,"column":44}},"24":{"start":{"line":25,"column":8},"end":{"line":25,"column":66}},"25":{"start":{"line":27,"column":4},"end":{"line":27,"column":144}},"26":{"start":{"line":29,"column":17},"end":{"line":39,"column":2}},"27":{"start":{"line":29,"column":39},"end":{"line":39,"column":2}},"28":{"start":{"line":30,"column":17},"end":{"line":30,"column":59}},"29":{"start":{"line":31,"column":4},"end":{"line":37,"column":5}},"30":{"start":{"line":32,"column":8},"end":{"line":34,"column":31}},"31":{"start":{"line":35,"column":8},"end":{"line":35,"column":44}},"32":{"start":{"line":36,"column":8},"end":{"line":36,"column":66}},"33":{"start":{"line":38,"column":4},"end":{"line":38,"column":143}},"34":{"start":{"line":40,"column":16},"end":{"line":44,"column":2}},"35":{"start":{"line":40,"column":24},"end":{"line":44,"column":2}},"36":{"start":{"line":41,"column":17},"end":{"line":41,"column":55}},"37":{"start":{"line":42,"column":34},"end":{"line":42,"column":38}},"38":{"start":{"line":43,"column":4},"end":{"line":43,"column":33}},"39":{"start":{"line":45,"column":0},"end":{"line":49,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":16},"end":{"line":18,"column":17}},"loc":{"start":{"line":18,"column":38},"end":{"line":28,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":72},"end":{"line":18,"column":73}},"loc":{"start":{"line":18,"column":85},"end":{"line":28,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":29,"column":17},"end":{"line":29,"column":18}},"loc":{"start":{"line":29,"column":39},"end":{"line":39,"column":2}},"line":29},"11":{"name":"(anonymous_11)","decl":{"start":{"line":29,"column":73},"end":{"line":29,"column":74}},"loc":{"start":{"line":29,"column":86},"end":{"line":39,"column":1}},"line":29},"12":{"name":"(anonymous_12)","decl":{"start":{"line":40,"column":16},"end":{"line":40,"column":17}},"loc":{"start":{"line":40,"column":24},"end":{"line":44,"column":2}},"line":40},"13":{"name":"(anonymous_13)","decl":{"start":{"line":40,"column":58},"end":{"line":40,"column":59}},"loc":{"start":{"line":40,"column":71},"end":{"line":44,"column":1}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":4},"end":{"line":26,"column":5}},"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":26,"column":5}},{"start":{"line":20,"column":4},"end":{"line":26,"column":5}}],"line":20},"9":{"loc":{"start":{"line":31,"column":4},"end":{"line":37,"column":5}},"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":37,"column":5}},{"start":{"line":31,"column":4},"end":{"line":37,"column":5}}],"line":31},"10":{"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":37}},"type":"binary-expr","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":12}},{"start":{"line":31,"column":16},"end":{"line":31,"column":37}}],"line":31}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":3,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[3,0],"7":[3,3],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/services/accountService.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/services/accountService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,oEAA4C;AAC5C,6EAAoD;AACpD,iFAAuD;AAIvD,MAAM,OAAO,GAAG,CACd,MAAc,EACd,KAAa,EACb,CAA+B,EACb,EAAE;IACpB,MAAM,IAAI,GAAG,MAAM,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC9C,IAAI,IAAI,EAAE;QACR,MAAM,IAAI,CAAC,MAAM,CAAC;YAChB,OAAO,EAAE,IAAI,CAAC,OAAO,GAAG,KAAK;SAC9B,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACvB,MAAM,IAAI,CAAC,IAAI,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACpC,OAAO,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC;KAC3D;IACD,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,QAAQ,EAAE,kEAAkE,CAAC,CAAC;AACvH,CAAC,CAAA,CAAC;AAEF,MAAM,QAAQ,GAAG,CACf,MAAc,EACd,KAAa,EACb,CAA+B,EACb,EAAE;IACpB,MAAM,IAAI,GAAG,MAAM,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC9C,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,IAAI,KAAK,EAAE;QACjC,MAAM,IAAI,CAAC,MAAM,CAAC;YAChB,OAAO,EAAE,IAAI,CAAC,OAAO,GAAG,KAAK;SAC9B,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACvB,MAAM,IAAI,CAAC,IAAI,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACpC,OAAO,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC;KAC3D;IACD,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,QAAQ,EAAE,iEAAiE,CAAC,CAAC;AACtH,CAAC,CAAA,CAAC;AAEF,MAAM,OAAO,GAAG,CAAO,EAAU,EAAoB,EAAE;IACrD,MAAM,IAAI,GAAG,MAAM,mBAAS,CAAC,QAAQ,CAAC,EAAE,CAAU,CAAC;IACnD,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,IAA6C,CAAC;IAC5E,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC;AAC/B,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,OAAO;IACP,QAAQ;IACR,OAAO;CACR,CAAC","sourcesContent":["import Sequelize from 'sequelize';\nimport UserModel from '../models/UserModel';\nimport HttpException from '../utils/http.exception';\nimport HttpStatusCode from '../utils/http.status.code';\nimport Account from '../interfaces/Account';\nimport { IUser } from '../interfaces/User';\n\nconst deposit = async (\n  userId: number,\n  value: number,\n  t: Sequelize.Transaction | null,\n): Promise<Account> => {\n  const user = await UserModel.findByPk(userId);\n  if (user) {\n    await user.update({\n      balance: user.balance + value,\n    }, { transaction: t });\n    await user.save({ transaction: t });\n    return { fullName: user.fullName, balance: user.balance };\n  }\n  throw new HttpException(HttpStatusCode.CONFLICT, 'Not possible to proceed with deposit. Try again in a few minutes');\n};\n\nconst withdraw = async (\n  userId: number,\n  value: number,\n  t: Sequelize.Transaction | null,\n): Promise<Account> => {\n  const user = await UserModel.findByPk(userId);\n  if (user && user.balance >= value) {\n    await user.update({\n      balance: user.balance - value,\n    }, { transaction: t });\n    await user.save({ transaction: t });\n    return { fullName: user.fullName, balance: user.balance };\n  }\n  throw new HttpException(HttpStatusCode.CONFLICT, 'Not possible to proceed with withdraw or sale. Not enough funds');\n};\n\nconst getById = async (id: number): Promise<Account> => {\n  const user = await UserModel.findByPk(id) as IUser;\n  const { balance, fullName } = user as { balance: number, fullName: string };\n  return { fullName, balance };\n};\n\nexport default {\n  deposit,\n  withdraw,\n  getById,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a42d14f27dbde85ef1f3d69e1c38b8ede88ddc28"},"/home/andrewerk/andrewerk-xp-app/src/middlewares/account.middleware.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/middlewares/account.middleware.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":45}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":76}},"5":{"start":{"line":8,"column":27},"end":{"line":8,"column":80}},"6":{"start":{"line":9,"column":17},"end":{"line":15,"column":2}},"7":{"start":{"line":16,"column":26},"end":{"line":26,"column":1}},"8":{"start":{"line":17,"column":22},"end":{"line":17,"column":72}},"9":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"10":{"start":{"line":19,"column":8},"end":{"line":19,"column":22}},"11":{"start":{"line":21,"column":20},"end":{"line":21,"column":33}},"12":{"start":{"line":22,"column":4},"end":{"line":23,"column":43}},"13":{"start":{"line":23,"column":8},"end":{"line":23,"column":43}},"14":{"start":{"line":24,"column":21},"end":{"line":24,"column":56}},"15":{"start":{"line":24,"column":46},"end":{"line":24,"column":55}},"16":{"start":{"line":25,"column":4},"end":{"line":25,"column":91}},"17":{"start":{"line":27,"column":0},"end":{"line":27,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":26},"end":{"line":16,"column":27}},"loc":{"start":{"line":16,"column":46},"end":{"line":26,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":39},"end":{"line":24,"column":40}},"loc":{"start":{"line":24,"column":46},"end":{"line":24,"column":55}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},{"start":{"line":18,"column":4},"end":{"line":20,"column":5}}],"line":18},"4":{"loc":{"start":{"line":22,"column":4},"end":{"line":23,"column":43}},"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":23,"column":43}},{"start":{"line":22,"column":4},"end":{"line":23,"column":43}}],"line":22}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":2,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1},"f":{"0":3,"1":2,"2":0},"b":{"0":[1,1,1],"1":[2,1],"2":[3,3],"3":[2,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/middlewares/account.middleware.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/middlewares/account.middleware.ts"],"names":[],"mappings":";;;;;AACA,8CAAsB;AACtB,6EAAoD;AACpD,iFAAuD;AAEvD,MAAM,QAAQ,GAAG,aAAG,CAAC,MAAM,CAAC;IAC1B,KAAK,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;CACtC,CAAC,CAAC,QAAQ,CAAC;IACV,cAAc,EAAE,wBAAwB;IACxC,YAAY,EAAE,6BAA6B;IAC3C,YAAY,EAAE,6CAA6C;CAE5D,CAAC,CAAC;AAEH,MAAM,iBAAiB,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC5E,MAAM,EAAE,KAAK,EAAE,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;IACrE,IAAI,CAAC,KAAK,EAAE;QACV,OAAO,IAAI,EAAE,CAAC;KACf;IACD,IAAI,SAAS,GAAgC,aAAa,CAAC;IAC3D,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,cAAc;QAAE,SAAS,GAAG,sBAAsB,CAAC;IACjF,MAAM,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;IACrD,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,SAAS,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AAClE,CAAC,CAAC;AAEF,kBAAe,iBAAiB,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport Joi from 'joi';\nimport HttpException from '../utils/http.exception';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst valueDTO = Joi.object({\n  value: Joi.number().min(1).required(),\n}).messages({\n  'any.required': '{{#label}} is required',\n  'any.number': '{{#label}} must be a number',\n  'number.min': '{{#label}} amount must be greater than zero',\n\n});\n\nconst accountValidation = (req: Request, res: Response, next: NextFunction) => {\n  const { error } = valueDTO.validate(req.body, { abortEarly: false });\n  if (!error) {\n    return next();\n  }\n  let errorCode: keyof typeof HttpStatusCode = 'BAD_REQUEST';\n  if (error.details[0].type !== 'any.required') errorCode = 'UNPROCESSABLE_ENTITY';\n  const messages = error.details.map((e) => e.message);\n  throw new HttpException(HttpStatusCode[errorCode], messages[0]);\n};\n\nexport default accountValidation;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b630f6820433f68f5d23a4a8c53e72d208716ad6"},"/home/andrewerk/andrewerk-xp-app/src/middlewares/auth.middleware.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/middlewares/auth.middleware.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":23},"end":{"line":6,"column":46}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":76}},"5":{"start":{"line":8,"column":27},"end":{"line":8,"column":80}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":48}},"7":{"start":{"line":10,"column":20},"end":{"line":21,"column":1}},"8":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":103}},"10":{"start":{"line":14,"column":4},"end":{"line":20,"column":5}},"11":{"start":{"line":15,"column":24},"end":{"line":15,"column":65}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":23}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":101}},"14":{"start":{"line":22,"column":22},"end":{"line":27,"column":1}},"15":{"start":{"line":23,"column":18},"end":{"line":23,"column":56}},"16":{"start":{"line":24,"column":20},"end":{"line":24,"column":38}},"17":{"start":{"line":25,"column":4},"end":{"line":25,"column":30}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":11}},"19":{"start":{"line":28,"column":0},"end":{"line":28,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":20},"end":{"line":10,"column":21}},"loc":{"start":{"line":10,"column":31},"end":{"line":21,"column":1}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":22},"end":{"line":22,"column":23}},"loc":{"start":{"line":22,"column":42},"end":{"line":27,"column":1}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":15},"end":{"line":9,"column":48}},"type":"binary-expr","locations":[{"start":{"line":9,"column":15},"end":{"line":9,"column":33}},{"start":{"line":9,"column":37},"end":{"line":9,"column":48}}],"line":9},"4":{"loc":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},{"start":{"line":11,"column":4},"end":{"line":13,"column":5}}],"line":11},"5":{"loc":{"start":{"line":23,"column":18},"end":{"line":23,"column":56}},"type":"binary-expr","locations":[{"start":{"line":23,"column":18},"end":{"line":23,"column":43}},{"start":{"line":23,"column":47},"end":{"line":23,"column":56}}],"line":23}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":5,"9":1,"10":4,"11":4,"12":3,"13":1,"14":1,"15":5,"16":5,"17":3,"18":3,"19":1},"f":{"0":2,"1":5,"2":5},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[1,1],"4":[1,4],"5":[5,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/middlewares/auth.middleware.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/middlewares/auth.middleware.ts"],"names":[],"mappings":";;;;;AACA,+CAAkD;AAClD,6EAAoD;AACpD,iFAAuD;AAEvD,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,IAAI,WAAW,CAAC;AAEjD,MAAM,WAAW,GAAG,CAAC,KAAyB,EAAuB,EAAE;IACrE,IAAI,CAAC,KAAK,EAAE;QACV,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC;KACzE;IACD,IAAI;QACF,MAAM,OAAO,GAAG,IAAA,qBAAM,EAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACtC,OAAO,OAAO,CAAC;KAChB;IAAC,OAAO,KAAK,EAAE;QACd,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC;KACvE;AACH,CAAC,CAAC;AAEF,MAAM,aAAa,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACxE,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,aAAuB,IAAI,SAAS,CAAC;IAC/D,MAAM,OAAO,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC;IACnC,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC;IAC1B,IAAI,EAAE,CAAC;AACT,CAAC,CAAC;AAEF,kBAAe,aAAa,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport { verify, JwtPayload } from 'jsonwebtoken';\nimport HttpException from '../utils/http.exception';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst secret = process.env.SECRET || 'jwtsecret';\n\nconst verifyToken = (token: string | undefined): JwtPayload | string => {\n  if (!token) {\n    throw new HttpException(HttpStatusCode.UNAUTHORIZED, 'Token not found');\n  }\n  try {\n    const payload = verify(token, secret);\n    return payload;\n  } catch (error) {\n    throw new HttpException(HttpStatusCode.UNAUTHORIZED, 'Invalid token');\n  }\n};\n\nconst validateToken = (req: Request, res: Response, next: NextFunction) => {\n  const token = req.headers.authorization as string || undefined;\n  const payload = verifyToken(token);\n  res.locals.user = payload;\n  next();\n};\n\nexport default validateToken;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2afa760775289c9ef4c27ea85481f38b8d476b44"},"/home/andrewerk/andrewerk-xp-app/src/routes/stocksRoutes.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/routes/stocksRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":27},"end":{"line":7,"column":86}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"6":{"start":{"line":9,"column":21},"end":{"line":9,"column":44}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":61}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":69}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/routes/stocksRoutes.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/routes/stocksRoutes.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,uFAA+D;AAC/D,gCAA8B;AAE9B,MAAM,YAAY,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE9B,YAAY,CAAC,GAAG,CAAC,GAAG,EAAE,0BAAgB,CAAC,UAAU,CAAC,CAAC;AACnD,YAAY,CAAC,GAAG,CAAC,UAAU,EAAE,0BAAgB,CAAC,WAAW,CAAC,CAAC;AAE3D,kBAAe,YAAY,CAAC","sourcesContent":["import { Router } from 'express';\nimport stocksController from '../controllers/stocksController';\nimport 'express-async-errors';\n\nconst stocksRoutes = Router();\n\nstocksRoutes.get('/', stocksController.listStocks);\nstocksRoutes.get('/:symbol', stocksController.getBySymbol);\n\nexport default stocksRoutes;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9957e60f3bc149cc7115095c1823e7d9eac3d1e7"},"/home/andrewerk/andrewerk-xp-app/src/controllers/stocksController.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/controllers/stocksController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":26},"end":{"line":15,"column":81}},"16":{"start":{"line":16,"column":27},"end":{"line":16,"column":80}},"17":{"start":{"line":17,"column":19},"end":{"line":20,"column":2}},"18":{"start":{"line":17,"column":33},"end":{"line":20,"column":2}},"19":{"start":{"line":18,"column":19},"end":{"line":18,"column":70}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":66}},"21":{"start":{"line":21,"column":20},"end":{"line":25,"column":2}},"22":{"start":{"line":21,"column":34},"end":{"line":25,"column":2}},"23":{"start":{"line":22,"column":23},"end":{"line":22,"column":33}},"24":{"start":{"line":23,"column":19},"end":{"line":23,"column":81}},"25":{"start":{"line":24,"column":4},"end":{"line":24,"column":66}},"26":{"start":{"line":26,"column":0},"end":{"line":29,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":19},"end":{"line":17,"column":20}},"loc":{"start":{"line":17,"column":33},"end":{"line":20,"column":2}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":67},"end":{"line":17,"column":68}},"loc":{"start":{"line":17,"column":80},"end":{"line":20,"column":1}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":21,"column":20},"end":{"line":21,"column":21}},"loc":{"start":{"line":21,"column":34},"end":{"line":25,"column":2}},"line":21},"11":{"name":"(anonymous_11)","decl":{"start":{"line":21,"column":68},"end":{"line":21,"column":69}},"loc":{"start":{"line":21,"column":81},"end":{"line":25,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":2,"8":0,"9":0,"10":0,"11":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[2,0],"7":[2,2]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/controllers/stocksController.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/controllers/stocksController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,kFAA0D;AAC1D,iFAAuD;AAEvD,MAAM,UAAU,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IAC1E,MAAM,MAAM,GAAG,MAAM,yBAAe,CAAC,iBAAiB,EAAE,CAAC;IACzD,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpD,CAAC,CAAA,CAAC;AAEF,MAAM,WAAW,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IAC3E,MAAM,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IAC9B,MAAM,MAAM,GAAG,MAAM,yBAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC;IACpE,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpD,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,UAAU;IACV,WAAW;CACZ,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport stockApiService from '../services/stockApiService';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst listStocks = async (req: Request, res: Response): Promise<Response> => {\n  const stocks = await stockApiService.listPopularStocks();\n  return res.status(HttpStatusCode.OK).json(stocks);\n};\n\nconst getBySymbol = async (req: Request, res: Response): Promise<Response> => {\n  const { symbol } = req.params;\n  const stocks = await stockApiService.getStock(symbol.toUpperCase());\n  return res.status(HttpStatusCode.OK).json(stocks);\n};\n\nexport default {\n  listStocks,\n  getBySymbol,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d9d07106afea42be47964f90ad8e43701ebb7902"},"/home/andrewerk/andrewerk-xp-app/src/services/stockApiService.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/services/stockApiService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":23},"end":{"line":15,"column":46}},"16":{"start":{"line":16,"column":20},"end":{"line":16,"column":66}},"17":{"start":{"line":17,"column":21},"end":{"line":17,"column":68}},"18":{"start":{"line":18,"column":23},"end":{"line":18,"column":65}},"19":{"start":{"line":19,"column":14},"end":{"line":19,"column":36}},"20":{"start":{"line":20,"column":17},"end":{"line":32,"column":2}},"21":{"start":{"line":20,"column":28},"end":{"line":32,"column":2}},"22":{"start":{"line":21,"column":16},"end":{"line":21,"column":80}},"23":{"start":{"line":22,"column":33},"end":{"line":22,"column":68}},"24":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"25":{"start":{"line":24,"column":8},"end":{"line":24,"column":47}},"26":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"27":{"start":{"line":28,"column":8},"end":{"line":28,"column":40}},"28":{"start":{"line":30,"column":26},"end":{"line":30,"column":73}},"29":{"start":{"line":31,"column":4},"end":{"line":31,"column":58}},"30":{"start":{"line":33,"column":26},"end":{"line":36,"column":2}},"31":{"start":{"line":33,"column":32},"end":{"line":36,"column":2}},"32":{"start":{"line":34,"column":19},"end":{"line":34,"column":84}},"33":{"start":{"line":34,"column":67},"end":{"line":34,"column":82}},"34":{"start":{"line":35,"column":4},"end":{"line":35,"column":18}},"35":{"start":{"line":37,"column":0},"end":{"line":40,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":20,"column":17},"end":{"line":20,"column":18}},"loc":{"start":{"line":20,"column":28},"end":{"line":32,"column":2}},"line":20},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":62},"end":{"line":20,"column":63}},"loc":{"start":{"line":20,"column":75},"end":{"line":32,"column":1}},"line":20},"10":{"name":"(anonymous_10)","decl":{"start":{"line":33,"column":26},"end":{"line":33,"column":27}},"loc":{"start":{"line":33,"column":32},"end":{"line":36,"column":2}},"line":33},"11":{"name":"(anonymous_11)","decl":{"start":{"line":33,"column":66},"end":{"line":33,"column":67}},"loc":{"start":{"line":33,"column":79},"end":{"line":36,"column":1}},"line":33},"12":{"name":"(anonymous_12)","decl":{"start":{"line":34,"column":56},"end":{"line":34,"column":57}},"loc":{"start":{"line":34,"column":67},"end":{"line":34,"column":82}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},{"start":{"line":23,"column":4},"end":{"line":25,"column":5}}],"line":23},"9":{"loc":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},{"start":{"line":27,"column":4},"end":{"line":29,"column":5}}],"line":27}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":3,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[3,0],"7":[3,3],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/services/stockApiService.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/services/stockApiService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,+CAAqC;AAErC,mEAAmD;AACnD,qEAA6C;AAC7C,kEAA0C;AAE1C,MAAM,KAAK,GAAG,sBAAsB,CAAC;AAErC,MAAM,QAAQ,GAAG,CAAO,KAAa,EAAkB,EAAE;IACvD,MAAM,GAAG,GAAG,0CAA0C,KAAK,UAAU,KAAK,EAAE,CAAC;IAC7E,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,MAAM,oBAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAClD,IAAI,UAAU,KAAK,GAAG,EAAE;QACtB,mBAAiB,CAAC,gBAAgB,EAAE,CAAC;KACtC;IAED,sBAAsB;IACtB,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE;QAChB,mBAAiB,CAAC,SAAS,EAAE,CAAC;KAC/B;IACD,MAAM,aAAa,GAAG,MAAM,sBAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAC5D,OAAO,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,aAAa,EAAE,CAAC;AACxD,CAAC,CAAA,CAAC;AAEF,MAAM,iBAAiB,GAAG,GAA2B,EAAE;IACrD,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,oBAAU,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACvE,OAAO,MAAM,CAAC;AAChB,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,iBAAiB;IACjB,QAAQ;CACT,CAAC","sourcesContent":["import { curly } from 'node-libcurl';\nimport { Stock } from '../interfaces/Stock';\nimport ExternalApiErrors from '../utils/apiErrors';\nimport mainStocks from '../utils/mainStocks';\nimport stockService from './stockService';\n\nconst token = 'cbadpm2ad3ickr4mtf4g';\n\nconst getStock = async (stock: string): Promise<Stock> => {\n  const url = `https://finnhub.io/api/v1/quote?symbol=${stock}&token=${token}`;\n  const { statusCode, data } = await curly.get(url);\n  if (statusCode === 429) {\n    ExternalApiErrors.TO_MANY_REQUESTS();\n  }\n\n  // Deve ser refatorado\n  if (data.c === 0) {\n    ExternalApiErrors.NOT_FOUND();\n  }\n  const stockQuantity = await stockService.getQuantity(stock);\n  return { currentValue: data.c, stock, stockQuantity };\n};\n\nconst listPopularStocks = async (): Promise<Stock[]> => {\n  const stocks = Promise.all(mainStocks.map((stock) => getStock(stock)));\n  return stocks;\n};\n\nexport default {\n  listPopularStocks,\n  getStock,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a44a6270c6d645065c78e147770fa4ffc48399cb"},"/home/andrewerk/andrewerk-xp-app/src/utils/apiErrors.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/utils/apiErrors.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":69}},"4":{"start":{"line":7,"column":27},"end":{"line":7,"column":73}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":88}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":115}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":54}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":108}},"9":{"start":{"line":18,"column":0},"end":{"line":18,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":30},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":23},"end":{"line":16,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1},"f":{"0":2,"1":0,"2":0},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/utils/apiErrors.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/utils/apiErrors.ts"],"names":[],"mappings":";;;;;AAAA,sEAA6C;AAC7C,0EAAgD;AAEhD,MAAqB,iBAAiB;IAGpC,MAAM,CAAC,gBAAgB;QACrB,iBAAiB,CAAC,OAAO,GAAG,mDAAmD,CAAC;QAChF,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,gBAAgB,EAAE,iBAAiB,CAAC,OAAO,CAAC,CAAC;IACtF,CAAC;IAED,MAAM,CAAC,SAAS;QACd,iBAAiB,CAAC,OAAO,GAAG,iBAAiB,CAAC;QAC9C,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,SAAS,EAAE,iBAAiB,CAAC,OAAO,CAAC,CAAC;IAC/E,CAAC;CACF;AAZD,oCAYC","sourcesContent":["import HttpException from './http.exception';\nimport HttpStatusCode from './http.status.code';\n\nexport default class ExternalApiErrors {\n  static message: string;\n\n  static TO_MANY_REQUESTS() {\n    ExternalApiErrors.message = 'To many requests to external API. Wait one minute';\n    throw new HttpException(HttpStatusCode.TO_MANY_REQUESTS, ExternalApiErrors.message);\n  }\n\n  static NOT_FOUND() {\n    ExternalApiErrors.message = 'Stock not found';\n    throw new HttpException(HttpStatusCode.NOT_FOUND, ExternalApiErrors.message);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8370d9e6e6bfc97fb890895180fb0dabcf3666d5"},"/home/andrewerk/andrewerk-xp-app/src/utils/mainStocks.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/utils/mainStocks.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":167}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/utils/mainStocks.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/utils/mainStocks.ts"],"names":[],"mappings":";;AAAA,MAAM,UAAU,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AAExK,kBAAe,UAAU,CAAC","sourcesContent":["const mainStocks = ['AAPL', 'MSFT', 'GOOG', 'GOOGL', 'AMZN', 'TSLA', 'UNH', 'JNJ', 'META', 'V', 'TSM', 'NVDA', 'XP', 'AZUL', 'VALE', 'PBR', 'GOL', 'BAK', 'GGB', 'ERJ'];\n\nexport default mainStocks;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"008581150a333be5e81bb7aa3ce24005339a62d3"},"/home/andrewerk/andrewerk-xp-app/src/services/stockService.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/services/stockService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":21},"end":{"line":15,"column":69}},"16":{"start":{"line":16,"column":25},"end":{"line":16,"column":76}},"17":{"start":{"line":17,"column":27},"end":{"line":17,"column":80}},"18":{"start":{"line":18,"column":25},"end":{"line":18,"column":76}},"19":{"start":{"line":21,"column":20},"end":{"line":28,"column":2}},"20":{"start":{"line":21,"column":32},"end":{"line":28,"column":2}},"21":{"start":{"line":22,"column":26},"end":{"line":22,"column":60}},"22":{"start":{"line":23,"column":20},"end":{"line":26,"column":6}},"23":{"start":{"line":27,"column":4},"end":{"line":27,"column":31}},"24":{"start":{"line":29,"column":12},"end":{"line":39,"column":2}},"25":{"start":{"line":29,"column":37},"end":{"line":39,"column":2}},"26":{"start":{"line":30,"column":18},"end":{"line":30,"column":61}},"27":{"start":{"line":31,"column":4},"end":{"line":37,"column":5}},"28":{"start":{"line":32,"column":8},"end":{"line":34,"column":31}},"29":{"start":{"line":35,"column":8},"end":{"line":35,"column":45}},"30":{"start":{"line":36,"column":8},"end":{"line":36,"column":15}},"31":{"start":{"line":38,"column":4},"end":{"line":38,"column":129}},"32":{"start":{"line":40,"column":13},"end":{"line":46,"column":2}},"33":{"start":{"line":40,"column":38},"end":{"line":46,"column":2}},"34":{"start":{"line":41,"column":18},"end":{"line":41,"column":61}},"35":{"start":{"line":42,"column":4},"end":{"line":44,"column":27}},"36":{"start":{"line":45,"column":4},"end":{"line":45,"column":41}},"37":{"start":{"line":47,"column":0},"end":{"line":51,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":21,"column":20},"end":{"line":21,"column":21}},"loc":{"start":{"line":21,"column":32},"end":{"line":28,"column":2}},"line":21},"9":{"name":"(anonymous_9)","decl":{"start":{"line":21,"column":66},"end":{"line":21,"column":67}},"loc":{"start":{"line":21,"column":79},"end":{"line":28,"column":1}},"line":21},"10":{"name":"(anonymous_10)","decl":{"start":{"line":29,"column":12},"end":{"line":29,"column":13}},"loc":{"start":{"line":29,"column":37},"end":{"line":39,"column":2}},"line":29},"11":{"name":"(anonymous_11)","decl":{"start":{"line":29,"column":71},"end":{"line":29,"column":72}},"loc":{"start":{"line":29,"column":84},"end":{"line":39,"column":1}},"line":29},"12":{"name":"(anonymous_12)","decl":{"start":{"line":40,"column":13},"end":{"line":40,"column":14}},"loc":{"start":{"line":40,"column":38},"end":{"line":46,"column":2}},"line":40},"13":{"name":"(anonymous_13)","decl":{"start":{"line":40,"column":72},"end":{"line":40,"column":73}},"loc":{"start":{"line":40,"column":85},"end":{"line":46,"column":1}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":31,"column":4},"end":{"line":37,"column":5}},"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":37,"column":5}},{"start":{"line":31,"column":4},"end":{"line":37,"column":5}}],"line":31}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":4,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":4,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[4,0],"7":[4,4],"8":[0,0]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/services/stockService.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/services/stockService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,sEAA8C;AAC9C,6EAAoD;AACpD,iFAAuD;AACvD,6EAA6D;AAE7D,2FAA2F;AAC3F,6BAA6B;AAE7B,MAAM,WAAW,GAAG,CAAO,MAAc,EAAmB,EAAE;IAC5D,MAAM,aAAa,GAAG,IAAA,wBAAsB,EAAC,GAAG,CAAC,CAAC;IAClD,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,oBAAU,CAAC,YAAY,CAAC;QAC5C,KAAK,EAAE,EAAE,MAAM,EAAE;QACjB,QAAQ,EAAE,EAAE,MAAM,EAAE,aAAa,EAAE;KACpC,CAAC,CAAC;IAEH,OAAO,KAAK,CAAC,aAAa,CAAC;AAC7B,CAAC,CAAA,CAAC;AAEF,MAAM,GAAG,GAAG,CACV,MAAc,EACd,QAAgB,EAChB,CAA+B,EAChB,EAAE;IACjB,MAAM,KAAK,GAAG,MAAM,oBAAU,CAAC,QAAQ,CAAC,MAAM,CAAe,CAAC;IAC9D,IAAI,QAAQ,GAAG,KAAK,CAAC,aAAa,EAAE;QAClC,MAAM,KAAK,CAAC,MAAM,CAAC;YACjB,aAAa,EAAE,KAAK,CAAC,aAAa,GAAG,QAAQ;SAC9C,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACvB,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACrC,OAAO;KACR;IACD,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,QAAQ,EAAE,QAAQ,KAAK,CAAC,aAAa,wBAAwB,CAAC,CAAC;AACxG,CAAC,CAAA,CAAC;AAEF,MAAM,IAAI,GAAG,CACX,MAAc,EACd,QAAgB,EAChB,CAA+B,EAChB,EAAE;IACjB,MAAM,KAAK,GAAG,MAAM,oBAAU,CAAC,QAAQ,CAAC,MAAM,CAAe,CAAC;IAC9D,MAAM,KAAK,CAAC,MAAM,CAAC;QACjB,aAAa,EAAE,KAAM,CAAC,aAAa,GAAG,QAAQ;KAC/C,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;IACvB,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;AACvC,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,WAAW;IACX,GAAG;IACH,IAAI;CACL,CAAC","sourcesContent":["import Sequelize from 'sequelize';\nimport StockModel from '../models/StockModel';\nimport HttpException from '../utils/http.exception';\nimport HttpStatusCode from '../utils/http.status.code';\nimport generateRandomQuantity from '../utils/randomQuantity';\n\n// Generates random quantity for current searched stock. If it hasn`t been searched already\n// saves value for new Stock;\n\nconst getQuantity = async (symbol: string): Promise<number> => {\n  const stockQuantity = generateRandomQuantity(100);\n  const [stock] = await StockModel.findOrCreate({\n    where: { symbol },\n    defaults: { symbol, stockQuantity },\n  });\n\n  return stock.stockQuantity;\n};\n\nconst buy = async (\n  symbol: string,\n  quantity: number,\n  t: Sequelize.Transaction | null,\n): Promise<void> => {\n  const stock = await StockModel.findByPk(symbol) as StockModel;\n  if (quantity < stock.stockQuantity) {\n    await stock.update({\n      stockQuantity: stock.stockQuantity - quantity,\n    }, { transaction: t });\n    await stock.save({ transaction: t });\n    return;\n  }\n  throw new HttpException(HttpStatusCode.CONFLICT, `Only ${stock.stockQuantity} are available to sale`);\n};\n\nconst sale = async (\n  symbol: string,\n  quantity: number,\n  t: Sequelize.Transaction | null,\n): Promise<void> => {\n  const stock = await StockModel.findByPk(symbol) as StockModel;\n  await stock.update({\n    stockQuantity: stock!.stockQuantity + quantity,\n  }, { transaction: t });\n  await stock.save({ transaction: t });\n};\n\nexport default {\n  getQuantity,\n  buy,\n  sale,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f09702426f92958d491e9dd32a35aac596ed3257"},"/home/andrewerk/andrewerk-xp-app/src/utils/randomQuantity.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/utils/randomQuantity.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}}},"fnMap":{"0":{"name":"generateRandomQuantity","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":31}},"loc":{"start":{"line":3,"column":37},"end":{"line":5,"column":1}},"line":3}},"branchMap":{},"s":{"0":1,"1":0,"2":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/utils/randomQuantity.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/utils/randomQuantity.ts"],"names":[],"mappings":";;AAAA,SAAS,sBAAsB,CAAC,GAAW;IACzC,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AACzC,CAAC;AACD,kBAAe,sBAAsB,CAAC","sourcesContent":["function generateRandomQuantity(max: number) {\n  return Math.floor(Math.random() * max);\n}\nexport default generateRandomQuantity;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3ccc7d0bf26d63ed82c00e76d4c8957e8faac701"},"/home/andrewerk/andrewerk-xp-app/src/routes/tradeRoutes.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/routes/tradeRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":26},"end":{"line":7,"column":84}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"6":{"start":{"line":9,"column":20},"end":{"line":9,"column":43}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":73}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":64}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":63}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/routes/tradeRoutes.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/routes/tradeRoutes.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,qFAA6D;AAC7D,gCAA8B;AAE9B,MAAM,WAAW,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE7B,WAAW,CAAC,GAAG,CAAC,aAAa,EAAE,yBAAe,CAAC,cAAc,CAAC,CAAC;AAC/D,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,yBAAe,CAAC,SAAS,CAAC,CAAC;AACpD,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,yBAAe,CAAC,UAAU,CAAC,CAAC;AACtD,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,yBAAe,CAAC,cAAc,CAAC,CAAC;AAErD,kBAAe,WAAW,CAAC","sourcesContent":["import { Router } from 'express';\nimport tradeController from '../controllers/tradeController';\nimport 'express-async-errors';\n\nconst tradeRoutes = Router();\n\ntradeRoutes.get('/user/:type', tradeController.getTradeByType);\ntradeRoutes.post('/buy', tradeController.buyStocks);\ntradeRoutes.post('/sale', tradeController.saleStocks);\ntradeRoutes.get('/', tradeController.getTradeByUser);\n\nexport default tradeRoutes;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"762564fe6ac8e83e689b316f3da83d159491c5ef"},"/home/andrewerk/andrewerk-xp-app/src/controllers/tradeController.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/controllers/tradeController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":23},"end":{"line":15,"column":75}},"16":{"start":{"line":16,"column":27},"end":{"line":16,"column":80}},"17":{"start":{"line":17,"column":18},"end":{"line":22,"column":2}},"18":{"start":{"line":17,"column":32},"end":{"line":22,"column":2}},"19":{"start":{"line":18,"column":19},"end":{"line":18,"column":34}},"20":{"start":{"line":19,"column":33},"end":{"line":19,"column":41}},"21":{"start":{"line":20,"column":19},"end":{"line":20,"column":92}},"22":{"start":{"line":21,"column":4},"end":{"line":21,"column":66}},"23":{"start":{"line":23,"column":19},"end":{"line":28,"column":2}},"24":{"start":{"line":23,"column":33},"end":{"line":28,"column":2}},"25":{"start":{"line":24,"column":19},"end":{"line":24,"column":34}},"26":{"start":{"line":25,"column":33},"end":{"line":25,"column":41}},"27":{"start":{"line":26,"column":19},"end":{"line":26,"column":93}},"28":{"start":{"line":27,"column":4},"end":{"line":27,"column":66}},"29":{"start":{"line":29,"column":23},"end":{"line":33,"column":2}},"30":{"start":{"line":29,"column":37},"end":{"line":33,"column":2}},"31":{"start":{"line":30,"column":19},"end":{"line":30,"column":34}},"32":{"start":{"line":31,"column":19},"end":{"line":31,"column":61}},"33":{"start":{"line":32,"column":4},"end":{"line":32,"column":66}},"34":{"start":{"line":34,"column":23},"end":{"line":39,"column":2}},"35":{"start":{"line":34,"column":37},"end":{"line":39,"column":2}},"36":{"start":{"line":35,"column":19},"end":{"line":35,"column":34}},"37":{"start":{"line":36,"column":21},"end":{"line":36,"column":31}},"38":{"start":{"line":37,"column":19},"end":{"line":37,"column":73}},"39":{"start":{"line":38,"column":4},"end":{"line":38,"column":66}},"40":{"start":{"line":40,"column":0},"end":{"line":45,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":18},"end":{"line":17,"column":19}},"loc":{"start":{"line":17,"column":32},"end":{"line":22,"column":2}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":66},"end":{"line":17,"column":67}},"loc":{"start":{"line":17,"column":79},"end":{"line":22,"column":1}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":23,"column":19},"end":{"line":23,"column":20}},"loc":{"start":{"line":23,"column":33},"end":{"line":28,"column":2}},"line":23},"11":{"name":"(anonymous_11)","decl":{"start":{"line":23,"column":67},"end":{"line":23,"column":68}},"loc":{"start":{"line":23,"column":80},"end":{"line":28,"column":1}},"line":23},"12":{"name":"(anonymous_12)","decl":{"start":{"line":29,"column":23},"end":{"line":29,"column":24}},"loc":{"start":{"line":29,"column":37},"end":{"line":33,"column":2}},"line":29},"13":{"name":"(anonymous_13)","decl":{"start":{"line":29,"column":71},"end":{"line":29,"column":72}},"loc":{"start":{"line":29,"column":84},"end":{"line":33,"column":1}},"line":29},"14":{"name":"(anonymous_14)","decl":{"start":{"line":34,"column":23},"end":{"line":34,"column":24}},"loc":{"start":{"line":34,"column":37},"end":{"line":39,"column":2}},"line":34},"15":{"name":"(anonymous_15)","decl":{"start":{"line":34,"column":71},"end":{"line":34,"column":72}},"loc":{"start":{"line":34,"column":84},"end":{"line":39,"column":1}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":2,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[2,0],"7":[2,2]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/controllers/tradeController.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/controllers/tradeController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,4EAAoD;AACpD,iFAAuD;AAEvD,MAAM,SAAS,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IACzE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAC/B,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IACtC,MAAM,MAAM,GAAG,MAAM,sBAAY,CAAC,QAAQ,CAAC,EAAE,EAAE,MAAM,CAAC,WAAW,EAAE,EAAE,QAAQ,CAAC,CAAC;IAC/E,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpD,CAAC,CAAA,CAAC;AAEF,MAAM,UAAU,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IAC1E,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAC/B,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IACtC,MAAM,MAAM,GAAG,MAAM,sBAAY,CAAC,SAAS,CAAC,EAAE,EAAE,MAAM,CAAC,WAAW,EAAE,EAAE,QAAQ,CAAC,CAAC;IAChF,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpD,CAAC,CAAA,CAAC;AAEF,MAAM,cAAc,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IAC9E,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAC/B,MAAM,MAAM,GAAG,MAAM,sBAAY,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IAChD,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpD,CAAC,CAAA,CAAC;AAEF,MAAM,cAAc,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IAC9E,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAC/B,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IAC5B,MAAM,MAAM,GAAG,MAAM,sBAAY,CAAC,eAAe,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;IAC5D,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpD,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,SAAS;IACT,UAAU;IACV,cAAc;IACd,cAAc;CACf,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport tradeService from '../services/tradeService';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst buyStocks = async (req: Request, res: Response): Promise<Response> => {\n  const { id } = res.locals.user;\n  const { symbol, quantity } = req.body;\n  const result = await tradeService.buyStock(id, symbol.toUpperCase(), quantity);\n  return res.status(HttpStatusCode.OK).json(result);\n};\n\nconst saleStocks = async (req: Request, res: Response): Promise<Response> => {\n  const { id } = res.locals.user;\n  const { symbol, quantity } = req.body;\n  const result = await tradeService.saleStock(id, symbol.toUpperCase(), quantity);\n  return res.status(HttpStatusCode.OK).json(result);\n};\n\nconst getTradeByUser = async (req: Request, res: Response): Promise<Response> => {\n  const { id } = res.locals.user;\n  const result = await tradeService.getTrades(id);\n  return res.status(HttpStatusCode.OK).json(result);\n};\n\nconst getTradeByType = async (req: Request, res: Response): Promise<Response> => {\n  const { id } = res.locals.user;\n  const { type } = req.params;\n  const result = await tradeService.getTradesByType(id, type);\n  return res.status(HttpStatusCode.OK).json(result);\n};\n\nexport default {\n  buyStocks,\n  saleStocks,\n  getTradeByUser,\n  getTradeByType,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a170f8840b489e8e47d02885cffff3a74be4cb40"},"/home/andrewerk/andrewerk-xp-app/src/services/tradeService.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/services/tradeService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":25},"end":{"line":15,"column":69}},"16":{"start":{"line":16,"column":17},"end":{"line":16,"column":57}},"17":{"start":{"line":17,"column":21},"end":{"line":17,"column":69}},"18":{"start":{"line":18,"column":26},"end":{"line":18,"column":71}},"19":{"start":{"line":19,"column":23},"end":{"line":19,"column":65}},"20":{"start":{"line":20,"column":38},"end":{"line":20,"column":95}},"21":{"start":{"line":21,"column":36},"end":{"line":21,"column":99}},"22":{"start":{"line":22,"column":17},"end":{"line":37,"column":2}},"23":{"start":{"line":22,"column":52},"end":{"line":37,"column":2}},"24":{"start":{"line":23,"column":18},"end":{"line":23,"column":71}},"25":{"start":{"line":24,"column":29},"end":{"line":24,"column":34}},"26":{"start":{"line":25,"column":20},"end":{"line":32,"column":7}},"27":{"start":{"line":25,"column":62},"end":{"line":32,"column":6}},"28":{"start":{"line":26,"column":22},"end":{"line":26,"column":45}},"29":{"start":{"line":27,"column":8},"end":{"line":27,"column":66}},"30":{"start":{"line":28,"column":8},"end":{"line":28,"column":67}},"31":{"start":{"line":29,"column":26},"end":{"line":30,"column":50}},"32":{"start":{"line":31,"column":8},"end":{"line":31,"column":25}},"33":{"start":{"line":33,"column":4},"end":{"line":35,"column":7}},"34":{"start":{"line":36,"column":4},"end":{"line":36,"column":19}},"35":{"start":{"line":38,"column":18},"end":{"line":53,"column":2}},"36":{"start":{"line":38,"column":53},"end":{"line":53,"column":2}},"37":{"start":{"line":39,"column":18},"end":{"line":39,"column":71}},"38":{"start":{"line":40,"column":29},"end":{"line":40,"column":34}},"39":{"start":{"line":41,"column":20},"end":{"line":48,"column":7}},"40":{"start":{"line":41,"column":62},"end":{"line":48,"column":6}},"41":{"start":{"line":42,"column":22},"end":{"line":42,"column":45}},"42":{"start":{"line":43,"column":8},"end":{"line":43,"column":65}},"43":{"start":{"line":44,"column":8},"end":{"line":44,"column":68}},"44":{"start":{"line":45,"column":26},"end":{"line":46,"column":51}},"45":{"start":{"line":47,"column":8},"end":{"line":47,"column":25}},"46":{"start":{"line":49,"column":4},"end":{"line":51,"column":7}},"47":{"start":{"line":52,"column":4},"end":{"line":52,"column":19}},"48":{"start":{"line":54,"column":18},"end":{"line":61,"column":2}},"49":{"start":{"line":54,"column":30},"end":{"line":61,"column":2}},"50":{"start":{"line":55,"column":19},"end":{"line":59,"column":6}},"51":{"start":{"line":60,"column":4},"end":{"line":60,"column":18}},"52":{"start":{"line":62,"column":24},"end":{"line":76,"column":2}},"53":{"start":{"line":62,"column":42},"end":{"line":76,"column":2}},"54":{"start":{"line":63,"column":19},"end":{"line":74,"column":6}},"55":{"start":{"line":75,"column":4},"end":{"line":75,"column":18}},"56":{"start":{"line":77,"column":0},"end":{"line":82,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":22,"column":17},"end":{"line":22,"column":18}},"loc":{"start":{"line":22,"column":52},"end":{"line":37,"column":2}},"line":22},"9":{"name":"(anonymous_9)","decl":{"start":{"line":22,"column":86},"end":{"line":22,"column":87}},"loc":{"start":{"line":22,"column":99},"end":{"line":37,"column":1}},"line":22},"10":{"name":"(anonymous_10)","decl":{"start":{"line":25,"column":55},"end":{"line":25,"column":56}},"loc":{"start":{"line":25,"column":62},"end":{"line":32,"column":6}},"line":25},"11":{"name":"(anonymous_11)","decl":{"start":{"line":25,"column":96},"end":{"line":25,"column":97}},"loc":{"start":{"line":25,"column":109},"end":{"line":32,"column":5}},"line":25},"12":{"name":"(anonymous_12)","decl":{"start":{"line":38,"column":18},"end":{"line":38,"column":19}},"loc":{"start":{"line":38,"column":53},"end":{"line":53,"column":2}},"line":38},"13":{"name":"(anonymous_13)","decl":{"start":{"line":38,"column":87},"end":{"line":38,"column":88}},"loc":{"start":{"line":38,"column":100},"end":{"line":53,"column":1}},"line":38},"14":{"name":"(anonymous_14)","decl":{"start":{"line":41,"column":55},"end":{"line":41,"column":56}},"loc":{"start":{"line":41,"column":62},"end":{"line":48,"column":6}},"line":41},"15":{"name":"(anonymous_15)","decl":{"start":{"line":41,"column":96},"end":{"line":41,"column":97}},"loc":{"start":{"line":41,"column":109},"end":{"line":48,"column":5}},"line":41},"16":{"name":"(anonymous_16)","decl":{"start":{"line":54,"column":18},"end":{"line":54,"column":19}},"loc":{"start":{"line":54,"column":30},"end":{"line":61,"column":2}},"line":54},"17":{"name":"(anonymous_17)","decl":{"start":{"line":54,"column":64},"end":{"line":54,"column":65}},"loc":{"start":{"line":54,"column":77},"end":{"line":61,"column":1}},"line":54},"18":{"name":"(anonymous_18)","decl":{"start":{"line":62,"column":24},"end":{"line":62,"column":25}},"loc":{"start":{"line":62,"column":42},"end":{"line":76,"column":2}},"line":62},"19":{"name":"(anonymous_19)","decl":{"start":{"line":62,"column":76},"end":{"line":62,"column":77}},"loc":{"start":{"line":62,"column":89},"end":{"line":76,"column":1}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":7,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":7,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[7,0],"7":[7,7]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/services/tradeService.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/services/tradeService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,sEAA8C;AAC9C,0DAAsC;AACtC,sEAA8C;AAC9C,wEAAgD;AAChD,kEAA0C;AAE1C,gGAAwE;AAExE,oGAA6E;AAE7E,MAAM,QAAQ,GAAG,CAAO,MAAc,EAAE,WAAmB,EAAE,QAAgB,EAAE,EAAE;IAC/E,MAAM,KAAK,GAAG,MAAM,yBAAe,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IAC1D,MAAM,EAAE,YAAY,EAAE,GAAG,KAAK,CAAC;IAC/B,MAAM,OAAO,GAAG,MAAM,gBAAU,CAAC,WAAW,CAAC,CAAO,CAAwB,EAAE,EAAE;QAC9E,MAAM,KAAK,GAAW,YAAY,GAAG,QAAQ,CAAC;QAC9C,MAAM,wBAAc,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAChD,MAAM,sBAAY,CAAC,GAAG,CAAC,WAAW,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;QACjD,MAAM,SAAS,GAAG,MAAM,qCAA2B;aAChD,GAAG,CAAC,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC,CAAe,CAAC;QACvD,OAAO,SAAS,CAAC;IACnB,CAAC,CAAA,CAAC,CAAC;IACH,MAAM,oBAAU,CAAC,MAAM,CAAC;QACtB,WAAW,EAAE,OAAO,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,YAAY;KACpE,CAAC,CAAC;IACH,OAAO,OAAO,CAAC;AACjB,CAAC,CAAA,CAAC;AAEF,MAAM,SAAS,GAAG,CAAO,MAAc,EAAE,WAAmB,EAAE,QAAgB,EAAE,EAAE;IAChF,MAAM,KAAK,GAAG,MAAM,yBAAe,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IAC1D,MAAM,EAAE,YAAY,EAAE,GAAG,KAAK,CAAC;IAC/B,MAAM,OAAO,GAAG,MAAM,gBAAU,CAAC,WAAW,CAAC,CAAO,CAAwB,EAAE,EAAE;QAC9E,MAAM,KAAK,GAAW,YAAY,GAAG,QAAQ,CAAC;QAC9C,MAAM,wBAAc,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAC/C,MAAM,sBAAY,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;QAClD,MAAM,SAAS,GAAG,MAAM,qCAA2B;aAChD,IAAI,CAAC,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC,CAAe,CAAC;QACxD,OAAO,SAAS,CAAC;IACnB,CAAC,CAAA,CAAC,CAAC;IACH,MAAM,oBAAU,CAAC,MAAM,CAAC;QACtB,WAAW,EAAE,OAAO,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,YAAY;KACrE,CAAC,CAAC;IACH,OAAO,OAAO,CAAC;AACjB,CAAC,CAAA,CAAC;AAEF,MAAM,SAAS,GAAG,CAAO,MAAc,EAAkC,EAAE;IACzE,MAAM,MAAM,GAAG,MAAM,mCAA0B,CAAC,KAAK,CAAC,SAAS,CAAC;SAC7D,OAAO,CAAC;QACP,UAAU,EAAE,CAAC,aAAa,EAAE,UAAU,CAAC;QACvC,KAAK,EAAE,EAAE,MAAM,EAAE;KAClB,CAAC,CAAC;IACL,OAAO,MAAM,CAAC;AAChB,CAAC,CAAA,CAAC;AAEF,MAAM,eAAe,GAAG,CAAO,MAAc,EAAE,IAAY,EAAkC,EAAE;IAC7F,MAAM,MAAM,GAAG,MAAM,mCAA0B,CAAC,KAAK,CAAC,SAAS,CAAC;SAC7D,OAAO,CAAC;QACP,UAAU,EAAE,CAAC,aAAa,EAAE,UAAU,CAAC;QACvC,KAAK,EAAE,EAAE,MAAM,EAAE;QACjB,OAAO,EAAE;YACP,KAAK,EAAE,oBAAU;YACjB,UAAU,EAAE,EAAE,OAAO,EAAE,CAAC,MAAM,CAAC,EAAE;YACjC,KAAK,EAAE;gBACL,IAAI;aACL;SACF;KACF,CAAC,CAAC;IACL,OAAO,MAAM,CAAC;AAChB,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,QAAQ;IACR,SAAS;IACT,SAAS;IACT,eAAe;CAChB,CAAC","sourcesContent":["import Sequelize from 'sequelize';\nimport accountService from './accountService';\nimport connection from '../db/config';\nimport TradeModel from '../models/TradeModel';\nimport stockApiService from './stockApiService';\nimport stockService from './stockService';\nimport ITrade from '../interfaces/Trade';\nimport investmentsPortfolioService from './investmentsPortfolioService';\nimport IPortfolio from '../interfaces/Portfolio';\nimport InvestmentsPortfoliotModel from '../models/InvestmentsPortfolioModel';\n\nconst buyStock = async (userId: number, stockSymbol: string, quantity: number) => {\n  const stock = await stockApiService.getStock(stockSymbol);\n  const { currentValue } = stock;\n  const account = await connection.transaction(async (t: Sequelize.Transaction) => {\n    const total: number = currentValue * quantity;\n    await accountService.withdraw(userId, total, t);\n    await stockService.buy(stockSymbol, quantity, t);\n    const portfolio = await investmentsPortfolioService\n      .buy(userId, stockSymbol, quantity, t) as IPortfolio;\n    return portfolio;\n  });\n  await TradeModel.create({\n    portfolioId: account.id, type: 'buy', quantity, value: currentValue,\n  });\n  return account;\n};\n\nconst saleStock = async (userId: number, stockSymbol: string, quantity: number) => {\n  const stock = await stockApiService.getStock(stockSymbol);\n  const { currentValue } = stock;\n  const account = await connection.transaction(async (t: Sequelize.Transaction) => {\n    const total: number = currentValue * quantity;\n    await accountService.deposit(userId, total, t);\n    await stockService.sale(stockSymbol, quantity, t);\n    const portfolio = await investmentsPortfolioService\n      .sale(userId, stockSymbol, quantity, t) as IPortfolio;\n    return portfolio;\n  });\n  await TradeModel.create({\n    portfolioId: account.id, type: 'sale', quantity, value: currentValue,\n  });\n  return account;\n};\n\nconst getTrades = async (userId: number): Promise<IPortfolio[] | ITrade> => {\n  const trades = await InvestmentsPortfoliotModel.scope('records')\n    .findAll({\n      attributes: ['stockSymbol', 'quantity'],\n      where: { userId },\n    });\n  return trades;\n};\n\nconst getTradesByType = async (userId: number, type: string): Promise<IPortfolio[] | ITrade> => {\n  const trades = await InvestmentsPortfoliotModel.scope('records')\n    .findAll({\n      attributes: ['stockSymbol', 'quantity'],\n      where: { userId },\n      include: {\n        model: TradeModel,\n        attributes: { exclude: ['type'] },\n        where: {\n          type,\n        },\n      },\n    });\n  return trades;\n};\n\nexport default {\n  buyStock,\n  saleStock,\n  getTrades,\n  getTradesByType,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"41a168a6b840f31a682610ae1d27403c7bf36b04"},"/home/andrewerk/andrewerk-xp-app/src/services/investmentsPortfolioService.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/services/investmentsPortfolioService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":36},"end":{"line":15,"column":99}},"16":{"start":{"line":16,"column":25},"end":{"line":16,"column":76}},"17":{"start":{"line":17,"column":27},"end":{"line":17,"column":80}},"18":{"start":{"line":18,"column":22},"end":{"line":18,"column":70}},"19":{"start":{"line":19,"column":12},"end":{"line":34,"column":2}},"20":{"start":{"line":19,"column":50},"end":{"line":34,"column":2}},"21":{"start":{"line":20,"column":29},"end":{"line":25,"column":6}},"22":{"start":{"line":26,"column":4},"end":{"line":32,"column":5}},"23":{"start":{"line":27,"column":8},"end":{"line":29,"column":31}},"24":{"start":{"line":30,"column":8},"end":{"line":30,"column":45}},"25":{"start":{"line":31,"column":8},"end":{"line":31,"column":71}},"26":{"start":{"line":33,"column":4},"end":{"line":33,"column":51}},"27":{"start":{"line":35,"column":13},"end":{"line":50,"column":2}},"28":{"start":{"line":35,"column":51},"end":{"line":50,"column":2}},"29":{"start":{"line":36,"column":18},"end":{"line":38,"column":6}},"30":{"start":{"line":39,"column":4},"end":{"line":41,"column":5}},"31":{"start":{"line":40,"column":8},"end":{"line":40,"column":126}},"32":{"start":{"line":42,"column":4},"end":{"line":48,"column":5}},"33":{"start":{"line":43,"column":8},"end":{"line":45,"column":31}},"34":{"start":{"line":46,"column":8},"end":{"line":46,"column":45}},"35":{"start":{"line":47,"column":8},"end":{"line":47,"column":71}},"36":{"start":{"line":49,"column":4},"end":{"line":49,"column":127}},"37":{"start":{"line":51,"column":28},"end":{"line":55,"column":2}},"38":{"start":{"line":51,"column":36},"end":{"line":55,"column":2}},"39":{"start":{"line":52,"column":23},"end":{"line":52,"column":99}},"40":{"start":{"line":53,"column":29},"end":{"line":53,"column":73}},"41":{"start":{"line":54,"column":4},"end":{"line":54,"column":28}},"42":{"start":{"line":56,"column":34},"end":{"line":59,"column":2}},"43":{"start":{"line":56,"column":55},"end":{"line":59,"column":2}},"44":{"start":{"line":57,"column":22},"end":{"line":57,"column":128}},"45":{"start":{"line":58,"column":4},"end":{"line":58,"column":21}},"46":{"start":{"line":60,"column":0},"end":{"line":65,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":12},"end":{"line":19,"column":13}},"loc":{"start":{"line":19,"column":50},"end":{"line":34,"column":2}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":84},"end":{"line":19,"column":85}},"loc":{"start":{"line":19,"column":97},"end":{"line":34,"column":1}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":35,"column":13},"end":{"line":35,"column":14}},"loc":{"start":{"line":35,"column":51},"end":{"line":50,"column":2}},"line":35},"11":{"name":"(anonymous_11)","decl":{"start":{"line":35,"column":85},"end":{"line":35,"column":86}},"loc":{"start":{"line":35,"column":98},"end":{"line":50,"column":1}},"line":35},"12":{"name":"(anonymous_12)","decl":{"start":{"line":51,"column":28},"end":{"line":51,"column":29}},"loc":{"start":{"line":51,"column":36},"end":{"line":55,"column":2}},"line":51},"13":{"name":"(anonymous_13)","decl":{"start":{"line":51,"column":70},"end":{"line":51,"column":71}},"loc":{"start":{"line":51,"column":83},"end":{"line":55,"column":1}},"line":51},"14":{"name":"(anonymous_14)","decl":{"start":{"line":56,"column":34},"end":{"line":56,"column":35}},"loc":{"start":{"line":56,"column":55},"end":{"line":59,"column":2}},"line":56},"15":{"name":"(anonymous_15)","decl":{"start":{"line":56,"column":89},"end":{"line":56,"column":90}},"loc":{"start":{"line":56,"column":102},"end":{"line":59,"column":1}},"line":56}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":26,"column":4},"end":{"line":32,"column":5}},"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":32,"column":5}},{"start":{"line":26,"column":4},"end":{"line":32,"column":5}}],"line":26},"9":{"loc":{"start":{"line":39,"column":4},"end":{"line":41,"column":5}},"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":41,"column":5}},{"start":{"line":39,"column":4},"end":{"line":41,"column":5}}],"line":39},"10":{"loc":{"start":{"line":42,"column":4},"end":{"line":48,"column":5}},"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":48,"column":5}},{"start":{"line":42,"column":4},"end":{"line":48,"column":5}}],"line":42}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":4,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":1,"43":0,"44":0,"45":0,"46":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":4,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[4,0],"7":[4,4],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/services/investmentsPortfolioService.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/services/investmentsPortfolioService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,oGAA4E;AAC5E,6EAAoD;AACpD,iFAAuD;AAEvD,uEAA+C;AAE/C,MAAM,GAAG,GAAG,CACV,MAAc,EACd,WAAmB,EACnB,QAAgB,EAChB,CAA+B,EACV,EAAE;IACvB,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG,MAAM,mCAAyB;SACrD,YAAY,CAAC;QACZ,KAAK,EAAE,EAAE,MAAM,EAAE,WAAW,EAAE;QAC9B,QAAQ,EAAE,EAAE,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE;QAC3C,WAAW,EAAE,CAAC;KACf,CAAC,CAAC;IACL,IAAI,CAAC,OAAO,EAAE;QACZ,MAAM,KAAK,CAAC,MAAM,CAAC;YACjB,QAAQ,EAAE,KAAK,CAAC,QAAQ,GAAG,QAAQ;SACpC,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACvB,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACrC,OAAO,EAAE,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC;KAChE;IACD,OAAO,EAAE,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC;AACjD,CAAC,CAAA,CAAC;AAEF,MAAM,IAAI,GAAG,CACX,MAAc,EACd,WAAmB,EACnB,QAAgB,EAChB,CAA+B,EACV,EAAE;IACvB,MAAM,KAAK,GAAG,MAAM,mCAAyB,CAAC,OAAO,CAAC;QACpD,KAAK,EAAE,EAAE,MAAM,EAAE,WAAW,EAAE;KAC/B,CAA8B,CAAC;IAChC,IAAI,CAAC,KAAK,EAAE;QACV,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,QAAQ,EAAE,4CAA4C,CAAC,CAAC;KAChG;IACD,IAAI,KAAK,CAAC,QAAQ,IAAI,QAAQ,EAAE;QAC9B,MAAM,KAAK,CAAC,MAAM,CAAC;YACjB,QAAQ,EAAE,KAAK,CAAC,QAAQ,GAAG,QAAQ;SACpC,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACvB,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACrC,OAAO,EAAE,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC;KAChE;IACD,MAAM,IAAI,wBAAa,CAAC,0BAAc,CAAC,QAAQ,EAAE,0BAA0B,KAAK,CAAC,QAAQ,SAAS,CAAC,CAAC;AACtG,CAAC,CAAA,CAAC;AAEF,MAAM,mBAAmB,GAAG,CAAO,EAAU,EAAyB,EAAE;IACtE,MAAM,UAAU,GAAG,MAAM,mCAAyB,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IACtF,MAAM,gBAAgB,GAAG,MAAM,IAAA,qBAAW,EAAC,UAAU,CAAC,CAAC;IACvD,OAAO,gBAAgB,CAAC;AAC1B,CAAC,CAAA,CAAC;AAEF,MAAM,yBAAyB,GAAG,CAChC,EAAU,EACV,WAAmB,EACE,EAAE;IACvB,MAAM,SAAS,GAAG,MAAM,mCAAyB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,OAAO,CACxE,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,CACV,CAAC;IAC/B,OAAO,SAAS,CAAC;AACnB,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,GAAG;IACH,IAAI;IACJ,mBAAmB;IACnB,yBAAyB;CAC1B,CAAC","sourcesContent":["import Sequelize from 'sequelize';\nimport InvestmentsPortfolioModel from '../models/InvestmentsPortfolioModel';\nimport HttpException from '../utils/http.exception';\nimport HttpStatusCode from '../utils/http.status.code';\nimport IPortfolio from '../interfaces/Portfolio';\nimport insertValue from '../utils/insertValue';\n\nconst buy = async (\n  userId: number,\n  stockSymbol: string,\n  quantity: number,\n  t: Sequelize.Transaction | null,\n): Promise<IPortfolio> => {\n  const [asset, created] = await InvestmentsPortfolioModel\n    .findOrCreate({\n      where: { userId, stockSymbol },\n      defaults: { userId, stockSymbol, quantity },\n      transaction: t,\n    });\n  if (!created) {\n    await asset.update({\n      quantity: asset.quantity + quantity,\n    }, { transaction: t });\n    await asset.save({ transaction: t });\n    return { id: asset.id, stockSymbol, quantity: asset.quantity };\n  }\n  return { id: asset.id, stockSymbol, quantity };\n};\n\nconst sale = async (\n  userId: number,\n  stockSymbol: string,\n  quantity: number,\n  t: Sequelize.Transaction | null,\n): Promise<IPortfolio> => {\n  const asset = await InvestmentsPortfolioModel.findOne({\n    where: { userId, stockSymbol },\n  }) as InvestmentsPortfolioModel;\n  if (!asset) {\n    throw new HttpException(HttpStatusCode.CONFLICT, 'Customer does not owns any of these assets');\n  }\n  if (asset.quantity >= quantity) {\n    await asset.update({\n      quantity: asset.quantity - quantity,\n    }, { transaction: t });\n    await asset.save({ transaction: t });\n    return { id: asset.id, stockSymbol, quantity: asset.quantity };\n  }\n  throw new HttpException(HttpStatusCode.CONFLICT, `Customer can only sell ${asset.quantity} assets`);\n};\n\nconst getAssetsByCustomer = async (id: number): Promise<IPortfolio[]> => {\n  const userAssets = await InvestmentsPortfolioModel.findAll({ where: { userId: id } });\n  const userAssetsValues = await insertValue(userAssets);\n  return userAssetsValues;\n};\n\nconst getAssetByCustomerHistory = async (\n  id: number,\n  stockSymbol: string,\n): Promise<IPortfolio> => {\n  const userAsset = await InvestmentsPortfolioModel.scope('records').findOne(\n    { where: { userId: id, stockSymbol } },\n  ) as InvestmentsPortfolioModel;\n  return userAsset;\n};\n\nexport default {\n  buy,\n  sale,\n  getAssetsByCustomer,\n  getAssetByCustomerHistory,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f29d6ea4a3180f52537f3c5858af15a12b72f14c"},"/home/andrewerk/andrewerk-xp-app/src/utils/insertValue.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/utils/insertValue.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":26},"end":{"line":15,"column":81}},"16":{"start":{"line":16,"column":20},"end":{"line":24,"column":2}},"17":{"start":{"line":16,"column":35},"end":{"line":24,"column":2}},"18":{"start":{"line":17,"column":31},"end":{"line":21,"column":8}},"19":{"start":{"line":17,"column":68},"end":{"line":21,"column":6}},"20":{"start":{"line":18,"column":22},"end":{"line":18,"column":81}},"21":{"start":{"line":19,"column":42},"end":{"line":19,"column":47}},"22":{"start":{"line":20,"column":8},"end":{"line":20,"column":75}},"23":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"24":{"start":{"line":23,"column":4},"end":{"line":23,"column":30}},"25":{"start":{"line":25,"column":0},"end":{"line":25,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":20},"end":{"line":16,"column":21}},"loc":{"start":{"line":16,"column":35},"end":{"line":24,"column":2}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":69},"end":{"line":16,"column":70}},"loc":{"start":{"line":16,"column":82},"end":{"line":24,"column":1}},"line":16},"10":{"name":"(anonymous_10)","decl":{"start":{"line":17,"column":57},"end":{"line":17,"column":58}},"loc":{"start":{"line":17,"column":68},"end":{"line":21,"column":6}},"line":17},"11":{"name":"(anonymous_11)","decl":{"start":{"line":17,"column":102},"end":{"line":17,"column":103}},"loc":{"start":{"line":17,"column":115},"end":{"line":21,"column":5}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/utils/insertValue.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/utils/insertValue.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,kFAA0D;AAE1D,MAAM,WAAW,GAAG,CAAO,SAAuB,EAAE,EAAE;IACpD,MAAM,kBAAkB,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAO,KAAiB,EAAE,EAAE;QAC/E,MAAM,KAAK,GAAG,MAAM,yBAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAChE,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;QACxC,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAE,KAAK,CAAC,YAAY,EAAE,CAAC;IACrE,CAAC,CAAA,CAAC,CAAC,CAAC;IACJ,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAChC,OAAO,kBAAkB,CAAC;AAC5B,CAAC,CAAA,CAAC;AAEF,kBAAe,WAAW,CAAC","sourcesContent":["import IPortfolio from '../interfaces/Portfolio';\nimport stockApiService from '../services/stockApiService';\n\nconst insertValue = async (portfolio: IPortfolio[]) => {\n  const portfolioWithValue = Promise.all(portfolio.map(async (asset: IPortfolio) => {\n    const value = await stockApiService.getStock(asset.stockSymbol);\n    const { stockSymbol, quantity } = asset;\n    return { stockSymbol, quantity, currentValue: value.currentValue };\n  }));\n  console.log(portfolioWithValue);\n  return portfolioWithValue;\n};\n\nexport default insertValue;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c6e58eaf88f44f338473106cec88e9f2e0f7b229"},"/home/andrewerk/andrewerk-xp-app/src/routes/portfolioRoutes.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/routes/portfolioRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":30},"end":{"line":7,"column":92}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"6":{"start":{"line":9,"column":23},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":87}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":75}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/routes/portfolioRoutes.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/routes/portfolioRoutes.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,6FAAqE;AACrE,gCAA8B;AAE9B,MAAM,cAAc,GAAG,IAAA,gBAAM,GAAE,CAAC;AAEhC,cAAc,CAAC,GAAG,CAAC,SAAS,EAAE,6BAAmB,CAAC,yBAAyB,CAAC,CAAC;AAC7E,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,6BAAmB,CAAC,mBAAmB,CAAC,CAAC;AAEjE,kBAAe,cAAc,CAAC","sourcesContent":["import { Router } from 'express';\nimport portfolioController from '../controllers/portfolioController';\nimport 'express-async-errors';\n\nconst portfolioRoute = Router();\n\nportfolioRoute.get('/:asset', portfolioController.getAssetByCustomerHistory);\nportfolioRoute.get('/', portfolioController.getAssetsByCustomer);\n\nexport default portfolioRoute;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"35a4de36590206b91d13aa846b40fa0c3c443ec1"},"/home/andrewerk/andrewerk-xp-app/src/controllers/portfolioController.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/controllers/portfolioController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":38},"end":{"line":15,"column":105}},"16":{"start":{"line":16,"column":27},"end":{"line":16,"column":80}},"17":{"start":{"line":17,"column":28},"end":{"line":21,"column":2}},"18":{"start":{"line":17,"column":42},"end":{"line":21,"column":2}},"19":{"start":{"line":18,"column":19},"end":{"line":18,"column":34}},"20":{"start":{"line":19,"column":19},"end":{"line":19,"column":86}},"21":{"start":{"line":20,"column":4},"end":{"line":20,"column":66}},"22":{"start":{"line":22,"column":34},"end":{"line":28,"column":2}},"23":{"start":{"line":22,"column":48},"end":{"line":28,"column":2}},"24":{"start":{"line":23,"column":19},"end":{"line":23,"column":34}},"25":{"start":{"line":24,"column":22},"end":{"line":24,"column":32}},"26":{"start":{"line":25,"column":19},"end":{"line":26,"column":59}},"27":{"start":{"line":27,"column":4},"end":{"line":27,"column":66}},"28":{"start":{"line":29,"column":0},"end":{"line":32,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":28},"end":{"line":17,"column":29}},"loc":{"start":{"line":17,"column":42},"end":{"line":21,"column":2}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":76},"end":{"line":17,"column":77}},"loc":{"start":{"line":17,"column":89},"end":{"line":21,"column":1}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":22,"column":34},"end":{"line":22,"column":35}},"loc":{"start":{"line":22,"column":48},"end":{"line":28,"column":2}},"line":22},"11":{"name":"(anonymous_11)","decl":{"start":{"line":22,"column":82},"end":{"line":22,"column":83}},"loc":{"start":{"line":22,"column":95},"end":{"line":28,"column":1}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":2,"8":0,"9":0,"10":0,"11":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[2,0],"7":[2,2]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/controllers/portfolioController.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/controllers/portfolioController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,0GAAkF;AAClF,iFAAuD;AAEvD,MAAM,mBAAmB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IACnF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAC/B,MAAM,MAAM,GAAG,MAAM,qCAA2B,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAC;IACzE,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpD,CAAC,CAAA,CAAC;AAEF,MAAM,yBAAyB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAqB,EAAE;IACzF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAC/B,MAAM,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IAC7B,MAAM,MAAM,GAAG,MAAM,qCAA2B;SAC7C,yBAAyB,CAAC,EAAE,EAAE,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;IACtD,OAAO,GAAG,CAAC,MAAM,CAAC,0BAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpD,CAAC,CAAA,CAAC;AAEF,kBAAe;IACb,yBAAyB;IACzB,mBAAmB;CACpB,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport investmentsPortfolioService from '../services/investmentsPortfolioService';\nimport HttpStatusCode from '../utils/http.status.code';\n\nconst getAssetsByCustomer = async (req: Request, res: Response): Promise<Response> => {\n  const { id } = res.locals.user;\n  const assets = await investmentsPortfolioService.getAssetsByCustomer(id);\n  return res.status(HttpStatusCode.OK).json(assets);\n};\n\nconst getAssetByCustomerHistory = async (req: Request, res: Response): Promise<Response> => {\n  const { id } = res.locals.user;\n  const { asset } = req.params;\n  const assets = await investmentsPortfolioService\n    .getAssetByCustomerHistory(id, asset.toUpperCase());\n  return res.status(HttpStatusCode.OK).json(assets);\n};\n\nexport default {\n  getAssetByCustomerHistory,\n  getAssetsByCustomer,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e2d5ba8dcf88054df157536b15508c2fa281d06c"},"/home/andrewerk/andrewerk-xp-app/src/middlewares/http.error.middleware.ts":{"path":"/home/andrewerk/andrewerk-xp-app/src/middlewares/http.error.middleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":28},"end":{"line":7,"column":1}},"2":{"start":{"line":5,"column":32},"end":{"line":5,"column":35}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":48}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":28},"end":{"line":4,"column":29}},"loc":{"start":{"line":4,"column":54},"end":{"line":7,"column":1}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":15},"end":{"line":6,"column":28}},"type":"binary-expr","locations":[{"start":{"line":6,"column":15},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":28}}],"line":6}},"s":{"0":1,"1":1,"2":9,"3":9,"4":1},"f":{"0":9},"b":{"0":[9,0]},"inputSourceMap":{"version":3,"file":"/home/andrewerk/andrewerk-xp-app/src/middlewares/http.error.middleware.ts","sources":["/home/andrewerk/andrewerk-xp-app/src/middlewares/http.error.middleware.ts"],"names":[],"mappings":";;AAGA,6DAA6D;AAC7D,MAAM,mBAAmB,GAAG,CAAC,GAAU,EAAE,GAAY,EAAE,GAAa,EAAE,KAAmB,EAAE,EAAE;IAC3F,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,GAAoB,CAAC;IACjD,GAAG,CAAC,MAAM,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9C,CAAC,CAAC;AAEF,kBAAe,mBAAmB,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport HttpException from '../utils/http.exception';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst httpErrorMiddleware = (err: Error, req: Request, res: Response, _next: NextFunction) => {\n  const { status, message } = err as HttpException;\n  res.status(status || 500).json({ message });\n};\n\nexport default httpErrorMiddleware;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b61d21cf06ce5f03686358444b5d89b67f32af43"}}